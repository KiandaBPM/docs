<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.93.3">
<link rel=canonical type=text/html href=https://docs.kianda.com/platform/connectors/rest/>
<link rel=alternate type=application/rss+xml href=https://docs.kianda.com/platform/connectors/rest/index.xml>
<meta name=robots content="noindex, nofollow">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>REST Web Service | Kianda low-code platform for business process automation</title><meta name=description content="One of the datasources available in Kianda is a connector to a REST API. Kianda has the ability to perform GET, POST, PUT and DELETE operations if …">
<meta property="og:title" content="REST Web Service">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://docs.kianda.com/platform/connectors/rest/">
<meta itemprop=name content="REST Web Service">
<meta itemprop=description content><meta name=twitter:card content="summary">
<meta name=twitter:title content="REST Web Service">
<meta name=twitter:description content>
<link rel=preload href=/scss/main.min.e03a1ebb0b2299856907fd9def884012773322c89173b89906d5321f161e383f.css as=style>
<link href=/scss/main.min.e03a1ebb0b2299856907fd9def884012773322c89173b89906d5321f161e383f.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2463M5RV55"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2463M5RV55",{anonymize_ip:!1})}</script>
</head><body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/ title="Kianda Low-code Platform documentation">
<span class=navbar-logo><svg width="124" height="26" viewBox="0 0 124 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.0114 22.8609 39.9609 12.543l6.7638-9.80049H41.5085L35.3752 11.4796V2.74251H30.7895V22.8609h4.5857V13.549l6.4199 9.3119h5.2163z" fill="#fff"/><path d="M50.7365 7.22603c1.4044.0 2.5795-1.17836 2.5795-2.58665.0-1.40828-1.1751-2.58665-2.5795-2.58665-1.4043.0-2.5794 1.17837-2.5794 2.58665.0 1.40829 1.1751 2.58665 2.5794 2.58665zM48.587 22.8609h4.2991V8.49062H48.587V22.8609z" fill="#fff"/><path d="M66.4358 8.49062v1.3508C65.49 8.74928 64.0856 8.08825 62.1654 8.08825c-3.7545.0-6.8499 3.30515-6.8499 7.58755.0 4.2823 3.0954 7.5875 6.8499 7.5875C64.0856 23.2633 65.49 22.6022 66.4358 21.5101v1.3508h4.2991V8.49062H66.4358zM63.0252 19.1821c-1.9776.0-3.4106-1.3508-3.4106-3.5063.0-2.1556 1.433-3.5064 3.4106-3.5064s3.4106 1.3508 3.4106 3.5064c0 2.1555-1.43300000000001 3.5063-3.4106 3.5063z" fill="#fff"/><path d="M82.2864 8.08825C80.3948 8.08825 78.9618 8.77802 78.188 9.84142V8.49062H73.8889V22.8609H78.188V15.0147C78.188 12.9741 79.2771 12.0544 80.8534 12.0544 82.2291 12.0544 83.3469 12.8879 83.3469 14.6698v8.1911H87.6459V14.0375c0-3.8799-2.4648-5.94925-5.3595-5.94925z" fill="#fff"/><path d="M101.002 2.74251V9.84142C100.056 8.74928 98.6518 8.08825 96.7316 8.08825 92.977 8.08825 89.8817 11.3934 89.8817 15.6758 89.8817 19.9581 92.977 23.2633 96.7316 23.2633 98.6518 23.2633 100.056 22.6022 101.002 21.5101v1.3508H105.301V2.74251H101.002zM97.5914 19.1821C95.6138 19.1821 94.1808 17.8313 94.1808 15.6758 94.1808 13.5202 95.6138 12.1694 97.5914 12.1694 99.569 12.1694 101.002 13.5202 101.002 15.6758 101.002 17.8313 99.569 19.1821 97.5914 19.1821z" fill="#fff"/><path d="M118.859 8.49062v1.3508C117.913 8.74928 116.509 8.08825 114.588 8.08825 110.834 8.08825 107.739 11.3934 107.739 15.6758c0 4.2823 3.095 7.5875 6.84899999999999 7.5875C116.509 23.2633 117.913 22.6022 118.859 21.5101v1.3508H123.158V8.49062H118.859zM115.448 19.1821c-1.97699999999999.0-3.41-1.3508-3.41-3.5063.0-2.1556 1.43300000000001-3.5064 3.41-3.5064 1.97800000000001.0 3.411 1.3508 3.411 3.5064.0 2.1555-1.43299999999999 3.5063-3.411 3.5063z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.28125C0 2.3645 2.3645.0 5.28125.0H20.7188C23.6355.0 26 2.3645 26 5.28125V20.7188C26 23.6355 23.6355 26 20.7188 26H5.28125C2.3645 26 0 23.6355.0 20.7188V5.28125zM23.4063 7.40596C22.6063 5.00596 12.7397 5.7393 7.90634 6.40596c2.83336.16663 8.89996.89989 10.49996 2.49989 1.6 1.60005-2 6.33335-4 8.50005 3.3334-2.3333 9.8-7.59994 9-9.99994zM18.9742 19.4062C14.1409 20.0729 4.27421 20.8062 3.47421 18.4062c-.8-2.4 5.66667-7.6666 8.99999-9.99986-2 2.16666-5.59999 6.89996-3.99999 8.49996 1.59999 1.6 7.66669 2.3333 10.49999 2.4999z" fill="#fff"/></svg></span><span class="text-uppercase font-weight-bold">Kianda low-code platform for business process automation</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/><span class=active>Documentation</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href="https://portal.kianda.com/public/signup?type=free-developer-account" target=_blank><span>Developer Sign-up</span></a>
</li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.f758722ecd77871ec2a6a720a66d9284.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div></nav></header><div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/platform/connectors/rest/>Return to the regular view of this page</a>.
</p></div><h1 class=title>REST Web Service</h1><ul>
<li>1: <a href=#pg-159da54cce37831d3fd8ec41626ce1ec>REST Service and Access Token refresh</a></li></ul><div class=content>
<p>One of the datasources available in Kianda is a connector to a <strong>REST API</strong>. Kianda has the ability to perform <strong>GET, POST, PUT</strong> and <strong>DELETE</strong> operations if they are supported by the webservice. The REST API datasource can support multiple REST methods, all of which can be called independently. Data from the webservice can be pulled into your Kianda workspace and manipulated, or data from Kianda can be pushed to the webservice to be used by other systems.</p><h2 id=when-to-use>When to use</h2><p>You can create a REST API datasource when you want your Kianda processes and forms to have access to a REST API.</p><h2 id=how-to-get-started>How to get started</h2><p>A REST API data connector can be configured by users with the role <strong>Administrator</strong> or <strong>Manage datasources</strong>. These users can access the datasource management function, found under <strong>Administration</strong> > <strong>Data sources</strong>.</p><ol>
<li>
<p>In the left-hand side menu, go to <strong>Administration</strong> > <strong>Data sources.</strong></p></li><li>
<p>In the main view you will see any existing data sources that have been created. From this view, you can click on the <strong>name</strong> of a data source to see details or <strong>delete</strong> a data source by clicking on the <strong>Bin/Trash</strong> button <img src=/images/binicon.png alt="Bin/trash button">.</p><p><img src=/images/datasource-main-view.jpg alt="Data sources main view"></p></li><li>
<p>To create a new data source, click on the <strong>Add new</strong> in the main view. A range of data source connectors will appear.</p><p><img src=/images/datasource-range.jpg alt="Data source list"></p></li><li>
<p>To add a REST Service data source click on <strong>REST Service</strong>.</p></li><li>
<p>The <strong>REST Service details</strong> screen opens.</p></li></ol><p><img src=/images/rest-service-details.jpg alt="REST Service details"></p><ol start=6>
<li>
<p>Fill in the first set of fields:</p><ul>
<li>
<p><strong>Display name –</strong> This is the name of the data source. Use an appropriate name, as this will be used within your process(es).</p></li><li>
<p><strong>Rest server base URL –</strong> This is the base URL of the REST API. Ensure there are no trailing characters, for example &ldquo;(https:)//api.mywebsite.com&rdquo;</p></li><li>
<p><strong>Enable Certificate Authentication –</strong> By default this option is set to <strong>No</strong>. By Selecting <strong>Yes</strong> this will display two new fields:</p><ul>
<li>
<p><strong>Certificate (.pfx) –</strong> This is a file field which you can use to upload your authentication certificate.</p></li><li>
<p><strong>Certificate password –</strong> Enter the password of the certificate here so the Kianda platform will be able to use it.</p></li></ul></li></ul></li></ol><p><img src=/images/rest-cert-authentication.jpg alt="Enable Certificate Authentication"></p><ol start=7>
<li>
<p>Under the Service details section, is a the <strong>REST Methods</strong> section. If there are any existing methods created, for example to find and retrieve particular information using HTTP GET, the method will be listed here. Go to <a href=#rest-methods>REST Methods</a> to find out more about how to add a method. To find out more about Kianda REST APIs, go to <a href=/apis/>APIs</a>.</p></li><li>
<p>Under the REST Methods on the REST Service details page, there is a check box to <strong>Use Kianda Cloud Connect?</strong> If you check this checkbox it gives you an option to Download Kianda Cloud Connect. Click on <strong>Download Kianda Cloud Connect</strong> to download a zip file.</p><p><img src=/images/kianda-cloud-connect.jpg alt="Kianda Cloud Connect"></p></li><li>
<p>When you have added REST Service details, you are ready to test your connection and add security. At the bottom of the <strong>REST Service details</strong> page, click on <strong>Test connection</strong> button <img src=/images/test-connection.jpg alt="Test connection for REST Service"> and if the service has been correctly configured, then you should receive a notification saying <strong>Connection test succeeded</strong>.</p><p><img src=/images/connection-test-succeeded.jpg alt="Connection test succeeded message"></p><p>In the event of an error, you will receive a message that relates to the error, for example a null or incorrect URL as shown in the example below:</p><p><img src=/images/rest-connection-error.jpg alt="REST test connection error"></p></li><li>
<p>Click on <strong>Save</strong> <img src=/images/save-connection.jpg alt="Save connection button">to save the connection and you will receive a notification saying <strong>Details saved successfully</strong>.</p></li><li>
<p>Add Security settings by clicking on the <strong>Security</strong> button, go to <a href=/platform/connectors/#setting-security-for-data-sources>Setting security for data sources</a> for more details.</p></li></ol><p>Here is an example of a data connector for a REST Service called &lsquo;Cat facts&rsquo;. We will use this example to create a <a href=#rest-methods>REST method</a>, see section below.</p><p><img src=/images/rest-service-example-catfacts.jpg alt="REST Service example"></p><h2 id=rest-methods>REST Methods</h2><p>A list of current REST Methods that have been created in Kianda will appear, listed by <strong>Name</strong>, <strong>Path</strong> and <strong>HTTP Method</strong>, where:</p><ul>
<li>
<p><strong>Name</strong> - is the name of the method, for example to get a list of course attendees, which could be called &lsquo;Course Attendees&rsquo;</p></li><li>
<p><strong>Path</strong> - is the address that allows you to access the API, also called <strong>endpoints</strong>, for example <strong>/instances</strong> or <strong>/processes</strong> are endpoints for Kianda REST APIs that allow you to perform methods on process instances and process designs respectively.</p></li><li>
<p><strong>HTTP Method</strong> - is the type of operation that can be performed on the data, namely <strong>POST</strong> (create), <strong>GET</strong> (read). <strong>PUT</strong> (update). <strong>PATCH</strong> (partial update) and <strong>DELETE</strong> (delete).</p><p>These details are shown in the example below, a data connector called &lsquo;REST Service for HR&rsquo;.</p><p><img src=/images/rest-method-example.jpg alt="Existing REST Methods"></p></li></ul><p>You can edit details of the existing REST Methods by clicking on the <strong>Edit/Pen</strong> button <img src=/images/edit-method.jpg alt="Edit REST Methods"> or delete a method by clicking on the <strong>Bin/Trash</strong> button <img src=/images/delete-method.jpg alt="Delete REST Method">.</p><h3 id=how-to-add-a-new-rest-method>How to add a new REST Method</h3><ol>
<li>Click on the <strong>+Add REST Method</strong> button. The <strong>REST Method editor</strong> dialog box appears.</li></ol><p><img src=/images/rest-method-editor.jpg alt="REST Method editor"></p><ol start=2>
<li>
<p>Fill out the fields:</p><ul>
<li>
<p><strong>Display Name –</strong> this is the name you want to attribute to the REST Method.</p></li><li>
<p><strong>HTTP Method –</strong> this is the HTTP Method of the REST Method.</p></li><li>
<p><strong>Url Path –</strong> this is the rest of the URL that will be concatenated with the <strong>Rest server base URL</strong>. For example /rest/GetUserDetails.</p></li><li>
<p><strong>Request headers –</strong> Request headers can be manually added here that need to be sent as part of the request, for example, Authorization. These values can be hard coded or passed into the <strong>Request header</strong> from the <strong>process.</strong> Click on <strong>Add header</strong> to add a request header.</p></li><li>
<p><strong>Request body –</strong> This section is for the <strong>Request body</strong> that will be used during the request. These values can be hard coded or passed into the <strong>Request body</strong> from the <strong>process.</strong></p></li><li>
<p><strong>Content type –</strong> Here you can define the <strong>Content type</strong> of the body. The options are <strong>JSON</strong> and <strong>Form Data</strong>.</p></li><li>
<p><strong>Response headers –</strong> Here you can define any response headers you wish to capture in the response that you want to use in Kianda. Click on <strong>Add header</strong> to add a response header.</p></li><li>
<p><strong>Response body –</strong> Here you can define the response body that the request will receive. Include or remove fields as needed.</p></li></ul></li><li>
<p>When you are finished editing the dialog box click on <strong>OK</strong> to save your changes, or click on <strong>Close</strong> at any time to exit.</p></li></ol><p>See <a href=#example-of-rest-method-use-in-kianda>Example of REST Method use in Kianda</a> below which can be used as a service with the connection.</p><h3 id=example-of-rest-method-use-in-kianda>Example of REST Method use in Kianda</h3><p>Take an example of <a href=https://catfact.ninja/fact>https://catfact.ninja/fact</a> a well-known API that provides an endpoint to retrieve random facts about cats.</p><p>If a simple <strong>GET</strong> method is used to retrieve facts using an API client, then parameters are returned showing the &lsquo;fact&rsquo; and the &rsquo;length&rsquo; of the fact as shown below.</p><p><img src=/images/catfact-ninja-send.jpg alt="Catninja GET example"></p><p>Knowing what parameters are available we can use the steps in <a href=#how-to-add-a-new-rest-method>How to add a new REST Method</a>,:</p><ol>
<li>
<p>Click on <strong>+Add REST Method</strong> <img src=/images/add-rest-method.jpg alt="Add REST Method"> from the <strong>REST Service details</strong> page, and add in details using the <strong>REST Method editor</strong> where:</p><ul>
<li>
<p><strong>Display Name</strong> - this is the name of your method that will be called upon in a process, for example &lsquo;Cat fact&rsquo;</p></li><li>
<p><strong>HTTP Method</strong> - <strong>GET</strong> is used to retrieve values</p></li><li>
<p><strong>Url Path</strong> - the path that is attached to the base URL, for example <strong>/fact</strong></p></li><li>
<p>Click on <strong>Add Header</strong> <img src=/images/add-header.jpg alt="Add Header button"> to add request headers, for example for authentication.</p></li><li>
<p><strong>Request body</strong> - this is the part of the request that is sent to a function where a function processes the request and sends back the <strong>Response body</strong>. For our &lsquo;catfact ninja&rsquo; example we will use the parameters &lsquo;fact&rsquo; and &rsquo;length&rsquo; for <strong>mapping values to form fields</strong> in Kianda processes:</p><p><img src=/images/catfact-ninja-response-body.jpg alt="Catfact ninja response body"></p></li><li>
<p>Click on <strong>OK</strong> to save the details and then click on <strong>Save</strong> <img src=/images/save-button.jpg alt="Save button"> in the <strong>REST Service details</strong> screen to save the connection.</p></li></ul></li></ol><p>The method will appear under <strong>REST Methods</strong> in the details screen.</p><p><img src=/images/rest-method-get-catfact.jpg alt="REST Method example"></p><p>The next section shows how data at the data source can be used in a Kianda process.</p><h3 id=using-a-rest-method-in-a-kianda-process>Using a REST Method in a Kianda process</h3><p>To see how &lsquo;catfacts&rsquo; are mapped into Kianda processes, create a new process, add fields and a rule that uses the REST Method created above.</p><ol>
<li>
<p>To create a new process by going to the left-hand side menu > <strong>Administration</strong> > <strong>Designer</strong> and click on <strong>Add new</strong> <img src=/images/addnew.png alt="Add new button"> and fill out details for the process, such as a <strong>Title</strong> and <strong>Description</strong>. Click on <strong>OK</strong> when complete.</p></li><li>
<p>Kianda Designer opens and in the first form, <strong>form1</strong>, add in a new text box by going to the left-hand pane and click on <strong>Controls</strong> > <strong>Input</strong> > <strong>Text box</strong>. This field will hold the value of the &lsquo;fact&rsquo; from catfacts. To read more about Input controls go to <a href=/platform/controls/input/>Input controls</a>.</p></li><li>
<p>Add a button to initiate the call from catfacts by going to the left-hand pane <strong>Controls</strong> > <strong>Actions</strong> > <strong>Button</strong>. Give the button a <strong>title</strong> for example &lsquo;Get Cat Fact&rsquo;, and choose <strong>No</strong> for <strong>Show in form body</strong> so the button appears at the bottom of the form. To read more about Action controls go to <a href=/platform/controls/actions/>Actions</a>.</p><p><img src=/images/get-cat-fact-button.jpg alt="Get cat fact button"></p></li><li>
<p>To dynamically populate the textbox with a fact, we need a rule. Click on &lsquo;Get cat fact&rsquo; button to add a rule. Then go to <strong>Rules</strong> > <strong>Data</strong> > <strong>Find items</strong>.</p></li><li>
<p>Give the rule a title, and under <strong>Action</strong>, click on <strong>Select data source</strong> to select the data source created using the steps in <a href=how-to-get-started>How to get started</a>. Select the method &lsquo;Cat fact&rsquo; created using the steps above in <a href=#example-of-rest-method-use-in-kianda>Example of REST Method use in Kianda</a>.</p><p><img src=/images/select-datasource-catfacts.jpg alt="Selecting datasource example catfact"></p></li><li>
<p>Click on <strong>OK</strong> to close the dialog box.</p></li><li>
<p>If you want to add headers to the request use the <strong>Input mapping</strong> for example requests headers for authentication, otherwise click on the <strong>Bin/Trash</strong> button to delete the input mapping fields.</p></li><li>
<p>Under <strong>Results mapping</strong> select the textbox from your form for the <strong>Form field</strong> and under <strong>Data source field or text</strong> navigate to &lsquo;fact&rsquo; from the <strong>responseBody</strong> as shown below.</p><p><img src=/images/results-mapping-example.jpg alt="Results mapping example for &amp;lsquo;facts&amp;rsquo;"></p></li><li>
<p>Add Error mapping if desired. Click on the links to read more about <a href=/platform/rules/general/success-error-mapping/>Error mapping</a> and <a href=/platform/rules/data/find-items/>Find items rule</a>.</p></li><li>
<p>Save the process by clicking on the <strong>Save</strong> button <img src=/images/save-button.jpg alt="Save button"> and preview the process by clicking on <strong>Preview</strong> <img src=/images/preview.png alt="Preview button">. In the previewed instance, click on the &lsquo;Get Cat Fact&rsquo; button to populate the textbox.</p></li></ol><h3 id=whats-next--idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h3><p>Your <strong>REST Service</strong> is now set up and ready to be used in your <strong>processes</strong>. Check out the following article on how to implement a <strong>REST Service</strong> in order to <a href=/platform/connectors/rest/rest-access-token/>refresh an Access token</a>.</p><p>To read more about APIs, go to <a href=/apis/>APIs</a>.</p><p>To read more about processes and forms, go to <a href=/platform/application-designer/designer/>Application designer</a>.</p></div></div><div class=td-content style=page-break-before:always>
<h1 id=pg-159da54cce37831d3fd8ec41626ce1ec>1 - REST Service and Access Token refresh</h1><h2 id=introduction>Introduction</h2><p>When creating a <strong>REST Service datasource</strong> that uses OAuth for authentication, you may want to create a &lsquo;refresh functionality&rsquo; within Kianda. This is achieved by creating a <strong>process</strong> and scheduling the process to run before the Access Token expires.</p><h2 id=how-to-get-started>How to get started</h2><h3 id=create-a-datasource>Create a datasource</h3><p>First you will need to create the <strong>datasource</strong> to connect to the application, for example, creating a <strong>REST Service</strong> with <strong>two REST Methods</strong>. The method titled <strong>Get/Refresh Auth Token</strong> will be used to refresh the Access Token with the scheduled task. For more information on how to create <strong>REST Services</strong> go to the <a href=docs/platform/connectors/rest/>REST Service page</a>.</p><p><img src=/images/sample-rest-service.gif alt="Sample REST service"></p><p>There are five parameters to pass into the request body: <code>grant_type</code>, <code>client_id</code>, <code>client_secret</code>, <code>redirect_url</code> and <code>refresh token</code>, shown below as follows:</p><p><img src=/images/refresh-token-body.jpg alt="Get/Refresh Auth Token"></p><p>These parameters need to be &lsquo;held&rsquo; in a process, see <a href=#create-a-process>Create a process</a> below.</p><h3 id=create-a-process>Create a process</h3><p>Once a datasource is created, a process is created which will contain fields for the parameters for the request body, and will hold fields from the response parameters.</p><p>As shown in the image above there are five parameters in the request body which need to be populated, and <strong>each of these parameters must correspond to a field</strong> in a process.</p><p>In the response body there are five parameters : <code>access_token</code>, <code>token_type</code>, <code>expires_in</code>, <code>refresh_token</code> and <code>created_at</code>, although only <code>access_token</code>, <code>expires_in</code> and <code>created_at</code> is needed. You can obtain the Access Token via the Developer console so details can be entered into Designer directly.</p><p>A form is created using <a href=docs/platform/application-designer/designer/>Kianda Designer</a> with <strong>textbox fields</strong> as well as a button called <strong>Refresh</strong> as follows:</p><p><img src=/images/parameters-as-fields.jpg alt="Response parameters corresponding to form fields to hold values"></p><p>Form rules are applied to fields in the form in the next section.</p><h4 id=form-rules>Form rules</h4><p>Rules are applied to both the AccessToken textbox field and the Refresh button as follows:</p><ol>
<li>
<p>On the <strong>Refresh button</strong> add a <strong>Data rule</strong> > <strong>Set Form Field</strong> which will be used to clear the AccessToken field. Give the rule a title for example &lsquo;Clear Access Token&rsquo; and map a &lsquo;blank&rsquo; value to the Access Token field by &lsquo;pressing space bar key&rsquo; as shown below:</p><p><img src=/images/clear-access-token.jpg alt="Set form field rule to Clear Access Token field"></p></li><li>
<p>On the <strong>Refresh button</strong> add a <strong>Data rule</strong> > <strong>Create item</strong> which will be used to invoke the REST Service to get a new token and map the response back to the process.</p><ul>
<li>
<p>Within the rule, click on <strong>Select data source</strong> and select the datasource created within <a href=#create-a-datasource>Create a datasource</a>, in the example on this page, &lsquo;Sample Rest Service&rsquo;.</p></li><li>
<p>Then select the &lsquo;Get/Refresh Auth Token REST Method&rsquo; as shown below.</p><p><img src=/images/select-rest-method.jpg alt="Selecting Get/Refresh Auth Token REST Method in Sample REST Service data source"></p></li><li>
<p>Under <strong>Input mapping</strong> map the values from the process into the request body. The left-hand column, <strong>Form field or text</strong>, represents the fields within the process or hard coded values. The right-hand column, <strong>Data source field</strong>, represents the values within the <strong>REST Service,</strong> be it the request header, request body, response header or response body**.** For example choose the form field such as grant_type and then in the data source field drill down to the value you want from the REST method.</p><img src=/images/select-data-source-field.jpg alt="Selecting data source field" style=zoom:80%>
</li><li>
<p>In addition to the parameters defined with the <strong>REST Service</strong> the <strong>urlPath</strong> can be defined in the process and passed into the datasource. Map the form fields <code>grant_type</code>, <code>client_id</code>, <code>client_secret</code>, <code>redirect_url</code> and <code>refresh token</code>, into the form fields.</p><img src=/images/get-new-token.jpg alt="Create item rule to get a new token and map response back to a Kianda process" style=zoom:80%>
</li><li>
<p>The <strong>On Success Mapping section</strong> is used to <strong>map the result from the API call back into the process</strong>. Map <code>access_token</code>, <code>refresh_token</code>, <code>expires_in</code> and <code>created_at</code>, to the relative form fields.</p></li></ul></li><li>
<p>In addition to the parameters defined with the <strong>REST Service</strong> the <strong>urlPath</strong> can be defined in the process and passed into the datasource.</p></li><li>
<p>On the <strong>Refresh button</strong> add a <strong>Form action rule</strong> > <strong>Save form</strong> so that the details from the process are saved to the system database. The rule order then is as follows:</p></li></ol><p>Finally; run the Process in preview mode, ensure the details you want to pass into the <strong>REST Service</strong> are correct and save the process. Take note of the Process ID as this will be needed for setting up the Scheduled Task</p><p><strong>Create the Scheduled Task</strong></p><p>The final step will be to create the scheduled task that will run before the refresh token expires. Navigate to the <strong>Scheduled tasks</strong> within the <strong>Administration</strong> section in the site. Click on the <strong>Schedule a task</strong> button and fill in the dialog box.</p><ol>
<li>
<p>Enter a name for the task in the <strong>Task Name</strong> field.</p></li><li>
<p>Under <strong>Schedule</strong> select the <strong>Minutes</strong> option. In the <strong>Every</strong> <strong>Minutes</strong> field enter a numerical value. For example, if the Access Token expires every 60 minutes, enter 55, meaning the schedule will run every 55 minutes.</p></li><li>
<p>Leave the <strong>Expire</strong> checkbox blank as this schedule should never stop.</p></li><li>
<p>Under <strong>Process Design</strong> select the name of the process that you created in the step above. This will expose a new field called <strong>Select the field or rule to trigger on schedule.</strong></p></li><li>
<p>In <strong>Process ID</strong> enter the ID of the process that you created in preview mode.</p></li><li>
<p>In <strong>Select the field or rule to trigger on schedule</strong> select the <strong>Refresh</strong> button.</p></li><li>
<p>Click <strong>OK</strong> to save.</p></li></ol><p>The Schedule is now set up and will refresh the access token as frequently as the time entered in the minutes field.</p><p><strong>Next Steps</strong></p><p>The Schedule is now set up and will refresh the access token as frequently as the time entered in the minutes field. This will run indefinitely until a user chooses to delete the schedule.</p><p>The datasource is now available to used and the Access Token is being kept current. The Access Token can be pulled into different <strong>Processes</strong> and used to send further <strong>REST APIs</strong>. Check out the articles below on how to build processes:</p><p><strong>[Using Kianda Designer]</strong>(/platform/administration/users/#view-and-edit-existing-user-details)</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
</div><div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2025 Kianda Technologies All Rights Reserved</small>
<small class=ml-1><a href=https://www.kianda.com/privacy target=_blank rel=noopener>Privacy Policy</a></small>
</div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.e969fcc6c6f4a5f274732e5cfc9517216922476c3623b07b387618dcb82a2ada.js integrity="sha256-6Wn8xsb0pfJ0cy5c/JUXIWkiR2w2I7B7OHYY3LgqKto=" crossorigin=anonymous></script>
<script type=text/javascript language=javascript>$(document).ready(function(){var e=$("#td-sidebar-menu a.active");e&&e.length>0&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})})</script>
</body></html>