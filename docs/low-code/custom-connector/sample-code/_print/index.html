<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://docs.kianda.com/docs/low-code/custom-connector/sample-code/><link rel=alternate type=application/rss+xml href=https://docs.kianda.com/docs/low-code/custom-connector/sample-code/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Sample code for a microservice | Kianda no-code platform for business process automation</title><meta name=description content="Sample code
The following sections provide some sample code to help you get started in creating Test, Metadata and Query functions for your …"><meta property="og:title" content="Sample code for a microservice"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://docs.kianda.com/docs/low-code/custom-connector/sample-code/"><meta itemprop=name content="Sample code for a microservice"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Sample code for a microservice"><meta name=twitter:description content><link rel=preload href=/scss/main.min.f468a3f7b55a9306db5600256a2260055729248021aa190affaece56e0fc8f4b.css as=style><link href=/scss/main.min.f468a3f7b55a9306db5600256a2260055729248021aa190affaece56e0fc8f4b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-101778157-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="124" height="26" viewBox="0 0 124 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.0114 22.8609 39.9609 12.543l6.7638-9.80049H41.5085L35.3752 11.4796V2.74251H30.7895V22.8609h4.5857V13.549l6.4199 9.3119h5.2163z" fill="#fff"/><path d="M50.7365 7.22603c1.4044.0 2.5795-1.17836 2.5795-2.58665.0-1.40828-1.1751-2.58665-2.5795-2.58665-1.4043.0-2.5794 1.17837-2.5794 2.58665.0 1.40829 1.1751 2.58665 2.5794 2.58665zM48.587 22.8609h4.2991V8.49062H48.587V22.8609z" fill="#fff"/><path d="M66.4358 8.49062v1.3508C65.49 8.74928 64.0856 8.08825 62.1654 8.08825c-3.7545.0-6.8499 3.30515-6.8499 7.58755.0 4.2823 3.0954 7.5875 6.8499 7.5875C64.0856 23.2633 65.49 22.6022 66.4358 21.5101v1.3508h4.2991V8.49062H66.4358zM63.0252 19.1821c-1.9776.0-3.4106-1.3508-3.4106-3.5063.0-2.1556 1.433-3.5064 3.4106-3.5064s3.4106 1.3508 3.4106 3.5064c0 2.1555-1.43300000000001 3.5063-3.4106 3.5063z" fill="#fff"/><path d="M82.2864 8.08825C80.3948 8.08825 78.9618 8.77802 78.188 9.84142V8.49062H73.8889V22.8609H78.188V15.0147C78.188 12.9741 79.2771 12.0544 80.8534 12.0544 82.2291 12.0544 83.3469 12.8879 83.3469 14.6698v8.1911H87.6459V14.0375c0-3.8799-2.4648-5.94925-5.3595-5.94925z" fill="#fff"/><path d="M101.002 2.74251V9.84142C100.056 8.74928 98.6518 8.08825 96.7316 8.08825 92.977 8.08825 89.8817 11.3934 89.8817 15.6758 89.8817 19.9581 92.977 23.2633 96.7316 23.2633 98.6518 23.2633 100.056 22.6022 101.002 21.5101v1.3508H105.301V2.74251H101.002zM97.5914 19.1821C95.6138 19.1821 94.1808 17.8313 94.1808 15.6758 94.1808 13.5202 95.6138 12.1694 97.5914 12.1694 99.569 12.1694 101.002 13.5202 101.002 15.6758 101.002 17.8313 99.569 19.1821 97.5914 19.1821z" fill="#fff"/><path d="M118.859 8.49062v1.3508C117.913 8.74928 116.509 8.08825 114.588 8.08825 110.834 8.08825 107.739 11.3934 107.739 15.6758c0 4.2823 3.095 7.5875 6.84899999999999 7.5875C116.509 23.2633 117.913 22.6022 118.859 21.5101v1.3508H123.158V8.49062H118.859zM115.448 19.1821c-1.97699999999999.0-3.41-1.3508-3.41-3.5063.0-2.1556 1.43300000000001-3.5064 3.41-3.5064 1.97800000000001.0 3.411 1.3508 3.411 3.5064.0 2.1555-1.43299999999999 3.5063-3.411 3.5063z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.28125C0 2.3645 2.3645.0 5.28125.0H20.7188C23.6355.0 26 2.3645 26 5.28125V20.7188C26 23.6355 23.6355 26 20.7188 26H5.28125C2.3645 26 0 23.6355.0 20.7188V5.28125zM23.4063 7.40596C22.6063 5.00596 12.7397 5.7393 7.90634 6.40596c2.83336.16663 8.89996.89989 10.49996 2.49989 1.6 1.60005-2 6.33335-4 8.50005 3.3334-2.3333 9.8-7.59994 9-9.99994zM18.9742 19.4062C14.1409 20.0729 4.27421 20.8062 3.47421 18.4062c-.8-2.4 5.66667-7.6666 8.99999-9.99986-2 2.16666-5.59999 6.89996-3.99999 8.49996 1.59999 1.6 7.66669 2.3333 10.49999 2.4999z" fill="#fff"/></svg></span><span class="text-uppercase font-weight-bold">Kianda no-code platform for business process automation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://portal.kianda.com/public/signup target=_blank><span>Get Started</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.8783dae6a572dce1a384affe0056a7e6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/low-code/custom-connector/sample-code/>Return to the regular view of this page</a>.</p></div><h1 class=title>Sample code for a microservice</h1><ul></ul><div class=content><h2 id=sample-code>Sample code</h2><p>The following sections provide some sample code to help you get started in creating <strong>Test</strong>, <strong>Metadata</strong> and <strong>Query</strong> functions for your Microservice so that you can test and deploy a Custom Connector in Kianda, allowing you to connect forms and use data from any data source.</p><h3 id=encryption-and-decryption-sample-code>Encryption and Decryption sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C# data-lang=C#><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hash</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>)))</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hashedByte</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>hash</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ComputeHash</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Encoding</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UTF8</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetBytes</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hashed</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hashedByte</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>hashed</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>plainData</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>_key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GenerateIV</span><span style=color:#000;font-weight:700>();</span> 
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Mode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CipherMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CBC</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IV</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>_key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptor</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateEncryptor</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>MemoryStream</span> <span style=color:#000>ms</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MemoryStream</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>CryptoStream</span> <span style=color:#000>cs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CryptoStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>CryptoStreamMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Write</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>StreamWriter</span> <span style=color:#000>sw</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cs</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                                <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Write</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>plainData</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToArray</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>encryptedData</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>buffer</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>encryptedData</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>_key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Mode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CipherMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CBC</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>_key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IV</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>decryptor</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateDecryptor</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>MemoryStream</span> <span style=color:#000>ms</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MemoryStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>buffer</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>CryptoStream</span> <span style=color:#000>cs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CryptoStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>decryptor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>CryptoStreamMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Read</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>StreamReader</span> <span style=color:#000>sw</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cs</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ReadToEnd</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>GenerateAESKey</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GenerateKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;{secret key generated from Kianda}&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//REPLACE ME</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/docs/low-code/custom-connector/create-microservice>Microservice</a> link.</p><h3 id=test-sample-code>Test sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#c4a000>        [FunctionName(&#34;connectorTest&#34;)]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorTest</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>            [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>FromForm</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span> 
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>response</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>testBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>testBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>accessCode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settings</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;accessCode&#34;</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>clientID</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settings</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;client_key&#34;</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>JObject</span> <span style=color:#000>tokenRequestObj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;grant_type&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;authorization_code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;client_id&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>clientID</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;redirect_uri&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;https://app.kianda.com/index.html&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;code&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>accessCode</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptedSettings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptedSettings</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Test completed successfully&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LogError</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>response</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/docs/low-code/custom-connector/create-microservice>Microservice</a> link.</p><h3 id=metadata-sample-code>Metadata sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#c4a000>         [FunctionName(&#34;connectorMetadata&#34;)]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorTree</span><span style=color:#000;font-weight:700>(</span><span style=color:#8f5902;font-style:italic>//metadata</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>            [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>requestBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>requestBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Do Request for token and update settings object </span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>JObject</span> <span style=color:#000>tokenRequestObj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;grant_type&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;authorization_code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//[&#34;client_id&#34;] = clientID,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;redirect_uri&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;https://app.kianda.com/index.html&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//[&#34;code&#34;] = accessCode</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//settings = GetToken(tokenRequestObj, settings);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the Queryresult </span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>QueryResult</span> <span style=color:#000>resultQuery</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the return Tree </span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CityFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CityFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CountryFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CountryFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>nodes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>nodes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-globe&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;STRUCTURE&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;fields&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>nodes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-globe&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;STRUCTURE&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;fields&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the tree root to be returned</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>root</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>root</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;text&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries and Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;name&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;CountriesAndCities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;icon&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-database&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;selectable&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;nodes&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>nodes</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>root</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Metadata Action Completed&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptedSettings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptedSettings</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>resultExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>QueryResult</span> <span style=color:#000>resultQueryExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Exception occured; &#34;</span> <span style=color:#000;font-weight:700>+</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/docs/low-code/custom-connector/create-microservice>Microservice</a> link.</p><h3 id=query-sample-code>Query sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C# data-lang=C#><span style=display:flex><span><span style=color:#c4a000>    [FunctionName(&#34;connectorQuery&#34;)]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorQuery</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>        [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>QueryResult</span> <span style=color:#000>resultQuery</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>myresponsestring</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>testBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>testBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Query</span> <span style=color:#000>query</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//demo object list creation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>info</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Value</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CountriesList</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>country1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>123</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>country2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>124</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>country1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>country2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>else</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CitysList</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span> <span style=color:#8f5902;font-style:italic>//create a list of jobjects </span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;London&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Liverpool&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city3</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Dublin&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city4</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cork&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city3</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city4</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//check for conditions then return accordingly</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span> <span style=color:#000;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> <span style=color:#000;font-weight:700>!</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IsNullOrEmpty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>filter</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#8f5902;font-style:italic>//filtering the city list depending on the filter </span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>j</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Where</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>x</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>Value</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;()</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>filter</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ToList</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>j</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>else</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#8f5902;font-style:italic>// if no filter return the full list of citys</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>),</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>resultExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>QueryResult</span> <span style=color:#000>resultQueryExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Exception occured; &#34;</span> <span style=color:#000;font-weight:700>+</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/docs/low-code/custom-connector/create-microservice>Microservice</a> link.</p><h2 id=whats-next-idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h2><p>To learn how to create a custom connector view the <a href=/docs/low-code/custom-connector/steps-to-create/>steps to create a custom connector</a>.</p></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/kiandaBPM aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/kiandaBPM aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/uDSW6qcYub aria-label=Discord><i class="fab fa-discord"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 Kianda Technologies All Rights Reserved</small>
<small class=ml-1><a href=https://www.kianda.com/privacy target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin=anonymous></script>
<script type=text/javascript language=javascript>$(document).ready(function(){var e=$("#td-sidebar-menu a.active");e&&e.length>0&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})})</script><script>(function(e,t,n,s,o,i){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:1880292,hjsv:6},o=t.getElementsByTagName("head")[0],i=t.createElement("script"),i.async=1,i.src=n+e._hjSettings.hjid+s+e._hjSettings.hjsv,o.appendChild(i)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=")</script></body></html>