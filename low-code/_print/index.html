<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.93.3">
<link rel=canonical type=text/html href=https://docs.kianda.com/low-code/>
<link rel=alternate type=application/rss+xml href=https://docs.kianda.com/low-code/index.xml>
<meta name=robots content="noindex, nofollow">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>Building Apps with Kianda’s Low-Code Platform | Kianda low-code platform for business process automation</title><meta name=description content="Low-code development guides. Developers start here">
<meta property="og:title" content="Building Apps with Kianda’s Low-Code Platform">
<meta property="og:description" content="Low-code development guides. Developers start here">
<meta property="og:type" content="website">
<meta property="og:url" content="https://docs.kianda.com/low-code/">
<meta itemprop=name content="Building Apps with Kianda’s Low-Code Platform">
<meta itemprop=description content="Low-code development guides. Developers start here"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Building Apps with Kianda’s Low-Code Platform">
<meta name=twitter:description content="Low-code development guides. Developers start here">
<link rel=preload href=/scss/main.min.e03a1ebb0b2299856907fd9def884012773322c89173b89906d5321f161e383f.css as=style>
<link href=/scss/main.min.e03a1ebb0b2299856907fd9def884012773322c89173b89906d5321f161e383f.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2463M5RV55"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2463M5RV55",{anonymize_ip:!1})}</script>
</head><body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/ title="Kianda Low-code Platform documentation">
<span class=navbar-logo><svg width="124" height="26" viewBox="0 0 124 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.0114 22.8609 39.9609 12.543l6.7638-9.80049H41.5085L35.3752 11.4796V2.74251H30.7895V22.8609h4.5857V13.549l6.4199 9.3119h5.2163z" fill="#fff"/><path d="M50.7365 7.22603c1.4044.0 2.5795-1.17836 2.5795-2.58665.0-1.40828-1.1751-2.58665-2.5795-2.58665-1.4043.0-2.5794 1.17837-2.5794 2.58665.0 1.40829 1.1751 2.58665 2.5794 2.58665zM48.587 22.8609h4.2991V8.49062H48.587V22.8609z" fill="#fff"/><path d="M66.4358 8.49062v1.3508C65.49 8.74928 64.0856 8.08825 62.1654 8.08825c-3.7545.0-6.8499 3.30515-6.8499 7.58755.0 4.2823 3.0954 7.5875 6.8499 7.5875C64.0856 23.2633 65.49 22.6022 66.4358 21.5101v1.3508h4.2991V8.49062H66.4358zM63.0252 19.1821c-1.9776.0-3.4106-1.3508-3.4106-3.5063.0-2.1556 1.433-3.5064 3.4106-3.5064s3.4106 1.3508 3.4106 3.5064c0 2.1555-1.43300000000001 3.5063-3.4106 3.5063z" fill="#fff"/><path d="M82.2864 8.08825C80.3948 8.08825 78.9618 8.77802 78.188 9.84142V8.49062H73.8889V22.8609H78.188V15.0147C78.188 12.9741 79.2771 12.0544 80.8534 12.0544 82.2291 12.0544 83.3469 12.8879 83.3469 14.6698v8.1911H87.6459V14.0375c0-3.8799-2.4648-5.94925-5.3595-5.94925z" fill="#fff"/><path d="M101.002 2.74251V9.84142C100.056 8.74928 98.6518 8.08825 96.7316 8.08825 92.977 8.08825 89.8817 11.3934 89.8817 15.6758 89.8817 19.9581 92.977 23.2633 96.7316 23.2633 98.6518 23.2633 100.056 22.6022 101.002 21.5101v1.3508H105.301V2.74251H101.002zM97.5914 19.1821C95.6138 19.1821 94.1808 17.8313 94.1808 15.6758 94.1808 13.5202 95.6138 12.1694 97.5914 12.1694 99.569 12.1694 101.002 13.5202 101.002 15.6758 101.002 17.8313 99.569 19.1821 97.5914 19.1821z" fill="#fff"/><path d="M118.859 8.49062v1.3508C117.913 8.74928 116.509 8.08825 114.588 8.08825 110.834 8.08825 107.739 11.3934 107.739 15.6758c0 4.2823 3.095 7.5875 6.84899999999999 7.5875C116.509 23.2633 117.913 22.6022 118.859 21.5101v1.3508H123.158V8.49062H118.859zM115.448 19.1821c-1.97699999999999.0-3.41-1.3508-3.41-3.5063.0-2.1556 1.43300000000001-3.5064 3.41-3.5064 1.97800000000001.0 3.411 1.3508 3.411 3.5064.0 2.1555-1.43299999999999 3.5063-3.411 3.5063z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.28125C0 2.3645 2.3645.0 5.28125.0H20.7188C23.6355.0 26 2.3645 26 5.28125V20.7188C26 23.6355 23.6355 26 20.7188 26H5.28125C2.3645 26 0 23.6355.0 20.7188V5.28125zM23.4063 7.40596C22.6063 5.00596 12.7397 5.7393 7.90634 6.40596c2.83336.16663 8.89996.89989 10.49996 2.49989 1.6 1.60005-2 6.33335-4 8.50005 3.3334-2.3333 9.8-7.59994 9-9.99994zM18.9742 19.4062C14.1409 20.0729 4.27421 20.8062 3.47421 18.4062c-.8-2.4 5.66667-7.6666 8.99999-9.99986-2 2.16666-5.59999 6.89996-3.99999 8.49996 1.59999 1.6 7.66669 2.3333 10.49999 2.4999z" fill="#fff"/></svg></span><span class="text-uppercase font-weight-bold">Kianda low-code platform for business process automation</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/><span class=active>Documentation</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href="https://portal.kianda.com/public/signup?type=free-developer-account" target=_blank><span>Developer Sign-up</span></a>
</li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.f758722ecd77871ec2a6a720a66d9284.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div></nav></header><div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/low-code/>Return to the regular view of this page</a>.
</p></div><h1 class=title>Building Apps with Kianda’s Low-Code Platform</h1><div class=lead>Low-code development guides. Developers start here</div><ul>
<li>1: <a href=#pg-f9a4a463b4a9814dd66be1ba20076762>Field widget development</a></li><ul>
</ul><li>2: <a href=#pg-2f5816ec3d70a398e0e0513012cc81d7>Rule widget development</a></li><ul>
</ul><li>3: <a href=#pg-338f72f7aaedd84c9316441daf13f92d>Page (Dashboard) Widget Development</a></li><ul>
</ul><li>4: <a href=#pg-21d5c142dbff717e3b62debae87f5f87>Global CSS file</a></li><ul>
</ul><li>5: <a href=#pg-261c10e66099b20c6d01e49d05aafeb1>Global JavaScript file</a></li><ul>
</ul><li>6: <a href=#pg-a67ca3e28bb82f131e579817c442adb1>List widget template customisation</a></li><ul>
</ul><li>7: <a href=#pg-7c31cf13041be40508bf764cc8da4f95>Kianda as a Progressive Web Application (PWA)</a></li><ul>
</ul><li>8: <a href=#pg-ed7edc571a23df44396d3ad7f13d5b42>Webhooks</a></li><ul>
</ul><li>9: <a href=#pg-c9cf916a2451445a7806d5b8ba5e7d89>Introduction to Ember.js in Kianda</a></li><ul>
</ul><li>10: <a href=#pg-ad44e01e726cf15f5e99630ea0dee51e>Custom Connector Development</a></li><ul>
<li>10.1: <a href=#pg-fd1fa15e8d49f636f316a9e7f8c475c0>Microservice Creation</a></li><li>10.2: <a href=#pg-5ce926f0a816c854dda8f4974f650d05>Sample schemas</a></li><li>10.3: <a href=#pg-308af95adad8f3cad358ee5c106870a4>Steps to create a custom connector</a></li><li>10.4: <a href=#pg-868eedc20e9a044355b72e0d679cd397>Sample code for a microservice</a></li><ul>
</ul></ul></ul><div class=content>
<p>Kianda is a low-code development platform designed for web developers who want to create robust business process applications without getting bogged down in complex coding tasks. Because Kianda is built on open web technologies—primarily <strong>CSS</strong>, <strong>JavaScript</strong>, and micro-services—you can put your existing skills to work right away. Instead of grappling with proprietary systems, you’ll find familiar tools and frameworks, making it straightforward to build and customize applications to meet your organization’s needs.</p><h2 id=key-technologies-under-the-hood>Key Technologies Under the Hood</h2><p>Kianda’s front-end leverages established, open-source tools including <strong>Ember.js</strong>, <strong>Bootstrap</strong>, and features like web sockets and AJAX for real-time, responsive interfaces. This front-end stack lets you quickly create modern, dynamic user experiences using the same skills you apply every day in web development.</p><p>On the back-end, Kianda’s architecture is powered by scalable micro-services running on top of widely used technologies like <strong>.NET</strong> and <strong>Node.js</strong>, ensuring that your applications are both reliable and easy to maintain. By embracing these open standards, Kianda allows you to integrate seamlessly with other systems and tools in your ecosystem.</p><h3 id=emberjs-and-handlebars>Ember.js and Handlebars</h3><p>Kianda’s user interface is built using <strong>Ember.js</strong>, an open-source JavaScript framework well-known for its convention-over-configuration approach. This means you can write less boilerplate code while still delivering high-quality, maintainable applications. Ember.js works hand-in-hand with the <strong>Handlebars</strong> templating library. Handlebars makes it simple to bind data to templates, dynamically generate HTML, and reuse common UI patterns.</p><p>If you’re already comfortable with JavaScript and modern CSS frameworks, you’ll find working with Ember.js and Handlebars an easy step forward. For more on best practices, see our <a href=/low-code/using-the-ember-inspector/>Ember Inspector guide</a> and explore <a href=https://guides.emberjs.com/release/>Ember.js documentation</a> and <a href=https://handlebarsjs.com/guide/>Handlebars documentation</a>.</p><h2 id=why-choose-low-code-with-kianda>Why Choose Low-Code with Kianda?</h2><p>Low-code development reduces the time and effort needed to build enterprise applications. By using Kianda’s graphical interface and predefined building blocks, you can rapidly assemble process apps that integrate with your company’s workflows. At the same time, Kianda’s openness means you’re never locked in. If a standard component isn’t a perfect fit, you can dive into the code and craft a solution that suits your exact requirements.</p><p>Kianda provides a large selection of ready-to-use fields and rules, so non-developers can create forms and workflows without writing code. But when you need something more advanced, Kianda’s low-code approach lets you implement custom logic and UI widgets using the CSS and JavaScript skills you already have.</p><p>For example, you might create a new field type that displays images in a custom layout or build a bespoke rule widget for integrating with an external data source. You can also fine-tune list widgets for dashboards or write JavaScript expressions to automate tasks like generating unique IDs or formatting text.</p><h2 id=what-you-can-do-as-a-developer>What You Can Do as a Developer</h2><p>With an <strong>administrator</strong> role, you have access to <strong>Administration</strong> functions that let you tailor the platform:</p><ul>
<li>Modify the <a href=/low-code/global-javascript-file/>Global JavaScript</a> and <a href=/low-code/global-css/>Global CSS</a> files to set application-wide styles or logic.</li><li>Create custom <a href=/low-code/field-widget/>Field</a>, <a href=/low-code/rule-widget/>Rule</a>, <a href=/low-code/dashboard-widget/>Dashboard</a>, or data connector widgets to extend the platform’s capabilities.</li><li>Integrate external data sources and use your own JavaScript expressions in fields, rules, or anywhere rich text is used, like in emails and dashboards.</li><li>Customize list widgets to display data in dashboards in a way that makes sense for your organization’s metrics and KPIs.</li><li>Incorporate HTML and custom styling in forms and emails to produce richer user experiences.</li></ul><p>These options give you the flexibility to shape Kianda to fit your exact business processes, without leaving the familiar territory of open web development.</p><h2 id=kianda-developer-your-interface-for-custom-widgets>Kianda Developer: Your Interface for Custom Widgets</h2><p><strong>Kianda Developer</strong> is a user-friendly interface that lets you build and manage reusable widgets. Instead of starting from scratch, you can focus on your core logic or design. You can create:</p><ul>
<li><strong>Field widgets</strong>: Custom UI elements that appear on-screen, such as specialized inputs or interactive controls.</li><li><strong>Rule widgets</strong>: Automated logic components that manipulate data, set statuses, or initiate actions.</li><li><strong>Dashboard widgets</strong>: Dynamic visualizations or layouts for presenting information on dashboard pages.</li><li><strong>Data connector widgets</strong>: Integrations for sending and receiving data from external sources.</li></ul><h3 id=getting-started-with-kianda-developer>Getting Started with Kianda Developer</h3><ol>
<li>Open <strong>Administration</strong> > <strong>Developer</strong> to see all custom widgets in your environment.</li><li>Browse existing widgets, review version histories, edit or delete widgets, and easily restore previous versions.</li><li>To create a new widget, click <strong>New widget</strong>, provide a title, pick an icon, and choose a widget type. Then add your HTML, Handlebars, and JavaScript logic.</li><li>Once you’re done, you can export your custom widget as part of a Kianda file and import it into another environment. This portability ensures you can reuse and share your work seamlessly.</li></ol><h3 id=example-of-a-field-widget>Example of a Field Widget</h3><p>Below is an example of a simple field widget’s Handlebar and JavaScript code. The Handlebar template adapts based on the widget’s display mode (design, edit, settings, display), and the JavaScript object defines functions for each mode.</p><p><strong>Handlebars UI:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;design&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>in</span><span style=color:#000>put</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.required</span> <span style=color:#c4a000>maxlength</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;4&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.text</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;edit&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>in</span><span style=color:#000>put</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.required</span> <span style=color:#c4a000>maxlength</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;4&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.text</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;settings&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;!-- Add UI for settings here if needed --&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;display&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;p class=&#34;text-muted&#34;&gt;</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field.text</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span></code></pre></div><p><strong>JavaScript Logic:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>edit</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Code for edit mode
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>display</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Code for display mode
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>settings</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Code for settings mode
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>This structure allows you to cleanly separate your UI and logic, making development and maintenance straightforward.</p><h3 id=javascript-expressions-everywhere>JavaScript Expressions Everywhere</h3><p>Kianda supports using JavaScript expressions throughout its platform—inside fields, rules, and email templates. For instance, you can combine multiple field values to generate new strings, format data dynamically, or even create direct links to specific process instances with functions like <code>ProcessLink()</code>.</p><p>To learn more, visit our <a href=/platform/rules/general/expression-builder/>Expression builder guide</a> and explore how to inject logic and dynamic content anywhere you need it.</p><hr>
<p>By building on open technologies like CSS, JavaScript, Ember.js, and Handlebars, Kianda lets you apply the full range of your web development experience. Whether you’re creating simple apps or highly customized widgets, Kianda’s low-code approach helps you deliver results faster—without sacrificing flexibility or control.</p></div></div><div class=td-content style=page-break-before:always>
<h1 id=pg-f9a4a463b4a9814dd66be1ba20076762>1 - Field widget development</h1><div class=lead>Build and customize Kianda field widgets with open web tech: CSS, JS, Handlebars</div><p>Kianda offers a range of predefined field (control) widgets to help you build forms and processes quickly. These include <strong>16 built-in controls</strong> across three categories: <a href=/platform/controls/input/>Input</a>, <a href=/platform/controls/layout/>Layout</a>, and <a href=/platform/controls/actions/>Actions</a>. Developers with the appropriate permissions—<strong>Administrator</strong> or <strong>Developer</strong>—can also create <strong>custom field widgets</strong>. These custom widgets appear in the <strong>Custom controls</strong> category within Kianda Designer, ready to be added to any form or process.</p><p>Because Kianda is built on open technologies like <strong>CSS</strong>, <strong>JavaScript</strong>, and <strong>Handlebars</strong>, creating custom fields feels familiar to experienced web developers. Rather than dealing with closed, proprietary components, you’ll use the same web standards you already know. The result is a flexible, low-code approach that lets you craft the exact user experiences your business workflows require.</p><h2 id=how-custom-controls-work>How Custom Controls Work</h2><p>Custom controls are created using Kianda’s <strong>Developer</strong> interface. Each widget you create has two main parts:</p><ol>
<li><strong>Widget UI (Handlebars template)</strong>: Defines the markup, event handlers, and expressions.</li><li><strong>Widget Code (JavaScript)</strong>: Implements the widget’s logic and functions.</li></ol><p>This approach lets you cleanly separate your presentation and logic layers, making it easy to iterate, maintain, and reuse code.</p><h3 id=handlebars-syntax>Handlebars Syntax</h3><p>Kianda leverages <strong>Ember.js</strong>, an open-source JavaScript framework, which uses the <strong>Handlebars templating library</strong> for its UI. Handlebars is a simple way to create dynamic templates, using curly brace syntax (e.g., <code>{{...}}</code>) to bind data or call actions.</p><p>For example, consider the snippet below. It uses a <code>{{field-picker}}</code> component inside a <code>{{#if (eq displayMode "settings")}}</code> block. The <code>field-picker</code> lets users select which field in the form should be tied to a particular widget setting.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;settings&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;div class=&#34;form-group&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;label class=&#34;control-label&#34;&gt;Image to place pictures into&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field-picker</span> <span style=color:#c4a000>process</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>process</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>allowText</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>false</span> <span style=color:#204a87;font-weight:700>in</span><span style=color:#c4a000>cludes</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;[&#34;fields/field-image&#34;]&#39;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.settings.imageDestination</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;label class=&#34;control-label&#34;&gt;Field to display warning message in&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field-picker</span> <span style=color:#c4a000>process</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>process</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>allowText</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>false</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.settings.warningMessage</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span></code></pre></div><p>Components like <code>field-picker</code>, <code>field-date</code>, <code>field-group</code>, and <code>field-textbox</code> help you rapidly build forms. You can inspect and understand these components using the <a href=/low-code/using-the-ember-inspector/>Ember inspector</a> add-in.</p><h2 id=getting-started-with-custom-field-widgets>Getting Started with Custom Field Widgets</h2><p>To create a custom field widget, you need to have the <strong>Administrator</strong> or <strong>Developer</strong> role. Check <a href=/platform/administration/users/>Users & Groups</a> for details on permissions. Once you’re set:</p><ol>
<li>
<p>Go to <strong>Administration</strong> > <strong>Developer</strong> in the main menu. The <strong>Developer resources</strong> page shows all existing widgets. You can filter by widget type “Field” to see existing field controls.</p><p><img src=/images/developer-view.jpg alt="Developer view"></p></li><li>
<p>Click <strong>New widget</strong> to start creating a new custom field widget.</p></li><li>
<p>In the <strong>Edit widget</strong> dialog, enter:</p><ul>
<li><strong>Title</strong>: A user-friendly name.</li><li><strong>Unique Id</strong>: Auto-populated from the title, but can be adjusted if needed.</li><li><strong>Widget Icon</strong>: Select from a wide range of icons.</li><li><strong>Widget type</strong>: Choose “Field” to create a field widget.</li></ul><p><img src=/images/editwidget.gif alt="Edit widget"></p></li><li>
<p>Click <strong>OK</strong> to confirm. The new widget appears in your widget list.</p></li><li>
<p>Open the widget to find two tabs:</p><ul>
<li><strong>Widget UI</strong>: Add your Handlebars markup, bindings, and helper code.</li><li><strong>Widget Code</strong>: Add your JavaScript logic and event handlers.</li></ul><p><img src=/images/widgetfieldui.gif alt="Widget UI"><br>
<img src=/images/widgetcodefield.png alt="Widget code"></p></li><li>
<p>From the <strong>Developer resources</strong> view, you can edit, delete, or restore previous versions of your widget using the available icons. This makes it easy to iterate on your design or roll back changes if needed.</p></li><li>
<p>Once saved, your custom field widget appears in Kianda Designer. Navigate to:
<strong>Administration</strong> > <strong>Designer</strong> > Open or create a process > Select a form, and you’ll see your new custom field under <strong>Controls</strong> > <strong>Custom</strong>.</p><p><img src=/images/customcontrol.png alt="Custom fields"></p></li></ol><h2 id=example-creating-a-custom-field-widget>Example: Creating a Custom Field Widget</h2><p>Below is an example of a custom field widget called “Image display.” It helps users select an image frame based on their choice in a dropdown list. This widget:</p><ul>
<li>Updates a “warning” text box field to inform the user when they are in preview mode.</li><li>Lets the user choose a colored frame for an image displayed in another field.</li></ul><h3 id=sample-widget-ui-code>Sample Widget UI Code</h3><p>This Handlebars template changes its behavior depending on the <code>displayMode</code> (design, edit, settings, or display). During <code>edit</code> mode, for example, it provides a dropdown that triggers an action to update an image field in the form.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;design&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;select class=&#34;form-control&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;&#34;&gt;Please configure my settings before use&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/select&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;edit&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;select class=&#34;form-control&#34; id=&#34;entityType&#34; onchange=</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>action</span> <span style=color:#4e9a06>&#39;frameSelected&#39;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;target.value&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;&#34;&gt;Select&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../green.jpg&#34;&gt;Green&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../red.jpg&#34;&gt;Red&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../yellow.jpg&#34;&gt;Yellow&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../purple.jpg&#34;&gt;Purple&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/select&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;settings&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;div class=&#34;form-group&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;label class=&#34;control-label&#34;&gt;Image to place pictures into&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field-picker</span> <span style=color:#c4a000>process</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>process</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>allowText</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>false</span> <span style=color:#204a87;font-weight:700>in</span><span style=color:#c4a000>cludes</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;[&#34;fields/field-image&#34;]&#39;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.settings.imageDestination</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;label class=&#34;control-label&#34;&gt;Field to display warning message in&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field-picker</span> <span style=color:#c4a000>process</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>process</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>allowText</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>false</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.settings.warningMessage</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;display&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;select class=&#34;form-control&#34; onchange=</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>action</span> <span style=color:#4e9a06>&#39;frameSelected&#39;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;target.value&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;&#34;&gt;Select&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../green.jpg&#34;&gt;Green&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;option value=&#34;https://.../red.jpg&#34;&gt;Red&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/select&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span></code></pre></div><h3 id=sample-widget-code>Sample Widget Code</h3><p>This JavaScript defines what happens in each mode. For example, in <code>edit</code> mode it shows a warning message, and when the user selects a frame, it updates the target image field.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>edit</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>process</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;field.process&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>warningMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findFieldByName</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;field.settings.warningMessage.name&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#000>warningMessage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;visible&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>warningMessage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;enabled&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>warningMessage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Preview mode: Not actual process&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>display</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>process</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;field.process&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>warningMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findFieldByName</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;field.settings.warningMessage.name&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#000>warningMessage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;visible&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>actions</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>frameSelected</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>image</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>process</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;field.process&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>imageDestination</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findFieldByName</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;field.settings.imageDestination.name&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>      <span style=color:#000>imageDestination</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>image</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>After saving, the new “Image display” widget appears in the Developer resources list:</p><p><img src=/images/image-display-widget.jpg alt="Image display widget"></p><h2 id=using-your-custom-field-in-a-form>Using Your Custom Field in a Form</h2><p>Once your custom field widget is created, you can use it in any process within Kianda Designer:</p><ol>
<li>
<p>In <strong>Administration</strong> > <strong>Designer</strong>, open or create a process, then open the relevant form.</p></li><li>
<p>Under <strong>Controls</strong> > <strong>Custom</strong>, find and add your custom widget—like “Image display.”</p></li><li>
<p>Configure the widget by selecting which fields it should update. For example, map a “Warning” text box and an “Image” field that the widget will control.</p></li><li>
<p>Save and <strong>Preview</strong> the form to see your custom field in action. When you choose a frame color from the dropdown, the selected image field updates accordingly.</p><p><img src=/images/custom-field-output.jpg alt="Custom field output"></p></li></ol><p>This approach combines the flexibility of standard web technologies with the convenience of a low-code environment. By building custom field widgets on open web technologies, Kianda empowers you to create tailored, dynamic business applications that evolve with your organization’s needs—no proprietary lock-in, and no steep learning curve.</p><hr>
<p>If you have any questions or need further guidance, explore the related documentation on Ember.js, Handlebars, and the Ember inspector. You’ll find that with your existing CSS and JavaScript skills, you can seamlessly extend Kianda’s capabilities and deliver custom, interactive process apps quickly and efficiently.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-2f5816ec3d70a398e0e0513012cc81d7>2 - Rule widget development</h1><div class=lead>Learn how to build and customize Kianda rule widgets with open web tech: CSS, JS, Handlebars</div><p>Kianda provides <strong>60 predefined rules</strong> organized into various categories—including <a href=/platform/rules/workflow/>Workflow</a>, <a href=/platform/rules/communications/>Communications</a>, and <a href=/platform/rules/data/>Data</a>—so you can easily automate key tasks in your forms and processes. These out-of-the-box rules cover a wide range of scenarios, from sending notifications to manipulating data, managing files, interacting with SharePoint, and more. To learn about each category, simply follow the relevant links above.</p><p>When you need functionality beyond what these predefined rules offer, Kianda’s low-code platform lets you build your own <strong>custom rule widgets</strong>. Because Kianda is built on open web technologies (CSS, JavaScript, and templating with Handlebars), you can apply your existing web development knowledge to create powerful, tailor-made logic. This ensures that you’re never limited by predefined options—you can innovate and adapt to your organization’s evolving business needs, all while working in a familiar development environment.</p><h2 id=why-create-custom-rule-widgets>Why Create Custom Rule Widgets?</h2><p>While predefined rules handle many common use cases, your organization may have unique requirements that aren’t covered. For example, you may need a custom rule that:</p><ul>
<li>Integrates with a specialized external API,</li><li>Applies advanced transformations to your form data before submission,</li><li>Enforces specific business policies that evolve over time, or</li><li>Dynamically updates fields based on complex conditions that fall outside existing patterns.</li></ul><p>Custom rule widgets give you direct control over the logic that drives your automated processes. You’ll use standard web technologies—HTML, CSS, and JavaScript—within the Kianda platform, making it easy to write, maintain, and scale your custom logic as requirements change.</p><h2 id=how-to-get-started>How to Get Started</h2><p>To build custom rule widgets, you need an <strong>Administrator</strong> or <strong>Developer</strong> role. If you’re unsure about your role, check out <a href=/platform/administration/users/>Users & Groups</a> for details.</p><p>Once you have the right permissions:</p><ol>
<li>
<p><strong>Access the Developer Resources</strong>: Go to <strong>Administration</strong> > <strong>Developer</strong> in the left-hand menu. This page lists all existing widgets, including field, rule, dashboard, and data connector widgets.</p></li><li>
<p><strong>Create a New Rule Widget</strong>: Click <strong>New widget</strong> to open the widget creation dialog. Fill in the required details:</p><ul>
<li><strong>Title</strong>: Give your widget a clear, descriptive name.</li><li><strong>Unique Id</strong>: Auto-generated from the title, but you can adjust if needed.</li><li><strong>Widget Icon</strong>: Select an icon that represents your widget’s purpose.</li><li><strong>Widget Type</strong>: Choose <strong>Rule</strong> for a custom rule widget.</li></ul><p>Click <strong>OK</strong> to confirm. Your new widget will now appear in the Developer resources list.</p></li><li>
<p><strong>Widget UI and Code</strong>: Open your new widget to see two tabs:</p><ul>
<li><strong>Widget UI (Handlebars template)</strong>: Defines the widget’s configuration UI within Kianda Designer. Here, you can add form fields, dropdowns, and other elements to help process designers configure the rule’s settings. Use Handlebars to dynamically bind data and handle user input.</li><li><strong>Widget Code (JavaScript)</strong>: Implements the logic executed when the rule runs. Here, you’ll use JavaScript to manipulate process data, call APIs, set field values, or perform calculations.</li></ul><p>By separating UI from logic, Kianda keeps your code organized and easy to maintain.</p></li></ol><h2 id=example-custom-warning-message-rule>Example: Custom Warning Message Rule</h2><p>Below is an example that demonstrates how to create a simple custom rule widget. This widget allows a designer to set a warning message and choose a target field where the message will appear when the rule executes.</p><p><strong>Rule Widget UI (Handlebars)</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>&lt;div class=&#34;form-group&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;label class=&#34;control-label&#34;&gt;Warning message to display&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>in</span><span style=color:#000>put</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>rule.settings.message</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>&lt;div class=&#34;form-group&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;label class=&#34;control-label&#34;&gt;Field to display warning message in&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>field-picker</span> <span style=color:#c4a000>process</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>process</span> <span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>true</span> <span style=color:#c4a000>allowText</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>false</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>field.settings.field</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>&lt;/div&gt;
</span></span></span></code></pre></div><p>In this template, <code>{{input}}</code> and <code>{{field-picker}}</code> components let the process designer specify a message and select the field in the form that will display the warning. This empowers business users (or other designers) to configure the rule without writing code.</p><p><strong>Rule Widget Code (JavaScript)</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>execute</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>rule</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;rule&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>process</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;process&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>field</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>findFieldByName</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>rule</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;settings.field.name&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>message</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>rule</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;settings.message&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>field</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>process</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>setField</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>field</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Here, the <code>execute</code> function is the core logic that runs whenever the rule is triggered in a workflow. It retrieves the configured field and message, then updates that field’s value. This logic is concise, relying on standard JavaScript patterns and Kianda’s built-in APIs to interact with process data.</p><h2 id=managing-your-custom-rule-widgets>Managing Your Custom Rule Widgets</h2><p>After creating and saving your custom rule widget:</p><ul>
<li>
<p><strong>Edit or Delete</strong>: From the Developer resources page, you can edit the widget’s UI or code at any time. If a widget is no longer needed, you can delete it.</p></li><li>
<p><strong>Version History</strong>: Restore older versions of your widget if necessary, ensuring you can roll back changes without losing previous work.</p></li><li>
<p><strong>Use in Designer</strong>: Once finalized, your custom rule widget appears under <strong>Rules</strong> > <strong>Custom</strong> when adding a rule in Kianda Designer. This makes your new logic available to any process designer in your organization.</p><p><img src=/images/custom-rule-category.jpg alt="Custom rules category"></p></li></ul><h2 id=unlocking-new-possibilities>Unlocking New Possibilities</h2><p>By creating your own rule widgets, you tailor Kianda’s automation capabilities to match your exact needs. Combine your JavaScript skills, CSS styling, and open web development experience with Kianda’s low-code environment to build a powerful library of custom logic. Over time, you’ll develop a suite of custom rules that streamline workflows, enforce business policies, and integrate with other systems—all while leveraging familiar standards and straightforward developer tools.</p><hr>
<p>Embrace Kianda’s open, flexible architecture to quickly deliver tailored business process automation. If you have any questions or need further guidance, explore the platform’s documentation or inspect existing widgets with the Ember inspector. With Kianda, experienced web developers can easily extend the platform’s rule system, enabling dynamic and evolving business processes with minimal friction.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-338f72f7aaedd84c9316441daf13f92d>3 - Page (Dashboard) Widget Development</h1><div class=lead>Learn how to build and customize Kianda page widgets with open web tech: CSS, JS, Handlebars</div><p>Kianda provides several <strong>predefined dashboard widgets</strong> that make it easy to visualize process performance metrics at a glance. These widgets give you the building blocks you need to create informative, interactive dashboards that help end users understand the state of their processes in real-time. The existing <strong>7 predefined widgets</strong> include:</p><ul>
<li><a href=/platform/pages/richtext/>Richtext</a></li><li><a href=/platform/pages/tile/>Tile</a></li><li><a href=/platform/pages/list/>List</a></li><li><a href=/platform/pages/chart/>Chart</a></li><li><a href=/platform/pages/filter/>Filter</a></li><li><a href=/platform/pages/link/>Link</a></li><li><a href=/platform/pages/walkthrough/>Walk-through</a></li></ul><p>While these widgets cover many common needs, there may be times when you want a custom dashboard element—something that fetches specific data, applies unique formatting, or interacts with the user in a specialized way. Kianda’s low-code platform lets you create <strong>custom page widgets</strong> using open web technologies you already know, like CSS, JavaScript, and Handlebars. By leveraging these familiar tools, you can display large datasets, integrate external APIs, or design dynamic user interactions with minimal friction.</p><h2 id=why-create-custom-dashboard-widgets>Why Create Custom Dashboard Widgets?</h2><p>Predefined dashboard widgets provide a quick, no-code way to visualize process data. However, your organization might have unique reporting requirements or require more complex interactions that are not fully addressed by the standard widgets. Custom dashboard widgets allow you to:</p><ul>
<li><strong>Display large or complex datasets</strong> in a tailored format that meets your business needs.</li><li><strong>Integrate with external services or APIs</strong>, pulling in real-time data for end users.</li><li><strong>Enhance user interaction</strong> with custom buttons, filters, or drill-down features.</li><li><strong>Maintain a consistent brand experience</strong>, applying custom CSS or layouts to match your company’s style.</li></ul><p>In short, custom dashboard widgets give you full control over the data presented to end users, enabling you to deliver clear insights and improve decision-making processes.</p><h2 id=getting-started-with-custom-page-widgets>Getting Started with Custom Page Widgets</h2><p>To develop custom dashboard widgets, you need the <strong>Administrator</strong> or <strong>Developer</strong> role. For details on roles and permissions, see <a href=/platform/administration/users/>Users & Groups</a>.</p><p>Once you have the appropriate privileges:</p><ol>
<li>
<p><strong>Access the Developer Resources</strong>: In the Kianda main menu, go to <strong>Administration</strong> > <strong>Developer</strong>. This page shows all widgets—field, rule, dashboard, and data connectors—in one place.</p><p><img src=/images/developer-view.jpg alt="Widget view"></p></li><li>
<p><strong>Create a New Widget</strong>: Click <strong>New widget</strong> to open the widget creation dialog. Enter:</p><ul>
<li><strong>Title</strong>: A clear name that describes what your widget does.</li><li><strong>Unique Id</strong>: Automatically generated from the title but can be adjusted.</li><li><strong>Widget Icon</strong>: Choose an icon that best represents your widget.</li><li><strong>Widget Type</strong>: Select <strong>Widget</strong> for a dashboard widget.</li></ul><p><img src=/images/edit-dashboard-widget.jpg alt="Edit widget"></p></li><li>
<p><strong>Define the Widget UI and Code</strong>: After saving, you’ll see two tabs for your widget:</p><ul>
<li><strong>Widget UI (Handlebars template)</strong>: This defines the widget’s appearance and how users interact with it. You can create settings views for configuration and runtime views for end-user interaction. For example, you might add text inputs, dropdowns, or buttons that trigger custom actions.</li><li><strong>Widget Code (JavaScript)</strong>: This is where you implement your logic. You can fetch data from external sources, manipulate the DOM, handle user events, and create dynamic content that updates in real time.</li></ul><p><strong>Example Dashboard Widget UI:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>displayMode</span> <span style=color:#4e9a06>&#34;settings&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;!-- Configuration view: Let users set up the widget --&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;div class=&#34;form-group&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;label class=&#34;control-label&#34;&gt;Your Message&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>in</span><span style=color:#000>put</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>widget.settings.message</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>else</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;!-- Runtime view: Display data to end users --&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;div class=&#34;col-sm-12&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;h2&gt;Welcome </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>widget.settings.message</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/h2&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;button class=&#34;btn btn-sm btn-primary&#34; </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>action</span> <span style=color:#4e9a06>&#34;customAction1&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&gt;Action 1&lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;button class=&#34;btn btn-sm btn-default&#34; </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>action</span> <span style=color:#4e9a06>&#34;customAction2&#34;</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&gt;Action 2&lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span></code></pre></div><p><strong>Example Dashboard Widget Code:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>actions</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>customAction1</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Implement logic for Action 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000>customAction2</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Implement logic for Action 2
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>In this example, the configuration view (displayMode “settings”) lets an administrator set a message. The runtime view uses that message and adds interactive buttons. In your own widget, you could replace these controls with a data visualization, a list of records, or any other output that suits your requirements.</p></li><li>
<p><strong>Manage Your Widgets</strong>: Back in the Developer resources view, you can:</p><ul>
<li><strong>Edit</strong>: Update the widget’s UI or code.</li><li><strong>Delete</strong>: Remove widgets you no longer need.</li><li><strong>Version Control</strong>: Restore previous versions if you make changes you want to roll back.</li></ul></li><li>
<p><strong>Use the Widget in Your Dashboard</strong>: Once saved, the custom widget appears in your dashboard pages. Administrators can:</p><ul>
<li>Go to <strong>Home</strong> and <strong>Create a new page</strong> or edit an existing dashboard page.</li><li>Click <strong>Edit current page</strong> to reveal the widget menu.</li><li>Select your custom widget from the dropdown menu.</li></ul><p><img src=/images/custom-dashboard-widgets.jpg alt="Custom dashboard widgets drop-down list"></p><p>With the widget now placed on the page, adjust settings, connect it to data sources, and customize the display. Check <a href=/platform/pages/#how-to-edit-dashboard-page-settings>Edit dashboard page settings</a> for more details on configuring your page.</p></li></ol><h2 id=unlock-new-insights-through-custom-dashboards>Unlock New Insights Through Custom Dashboards</h2><p>By building custom dashboard widgets using familiar open web technologies, you can surface the exact data and interactions your users need. Whether you’re integrating an external reporting service, displaying aggregated metrics from multiple processes, or providing an interactive interface for exploring large datasets, custom widgets put you in the driver’s seat.</p><p>Kianda’s low-code approach blends the speed and ease of drag-and-drop configuration with the flexibility and power of full web development. As a result, you can quickly create dashboards that go beyond static charts and tables—delivering dynamic, user-friendly interfaces that help your team make better, data-driven decisions.</p><hr>
<p>Embrace Kianda’s flexibility, leverage your CSS and JavaScript expertise, and start building custom dashboard widgets that enhance your organization’s insights and performance. If you need more guidance, explore the provided links, refer to the Ember inspector for debugging, and use your existing web development skills to make the most out of Kianda’s low-code platform.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-21d5c142dbff717e3b62debae87f5f87>4 - Global CSS file</h1><div class=lead>Customize Kianda’s look site-wide by adding global CSS to style elements and define reusable classes</div><p>Kianda’s visual style is built on standard web technologies—primarily CSS and the <strong>Bootstrap</strong> framework. By default, Kianda applies a site-wide style that gives your workspace a consistent look and feel. However, as a workspace <strong>Administrator</strong>, you can override these defaults by using the <strong>Global CSS file</strong>. This lets you adjust aesthetics, tweak layouts, and even enhance functionality for your forms, processes, and dashboards.</p><h2 id=why-use-the-global-css-file>Why Use the Global CSS File?</h2><p><strong>Global CSS</strong> lets you implement style changes that appear throughout your entire Kianda workspace. Rather than adjusting individual elements in each process or dashboard, you can create a unified look or add distinctive branding across all pages at once.</p><p>For example, you can:</p><ul>
<li><strong>Apply consistent branding:</strong> Match your company’s color palette, typography, and visual identity.</li><li><strong>Improve usability:</strong> Make key buttons larger, adjust spacing for better readability, or change how messages are highlighted.</li><li><strong>Add functional styling:</strong> Hide certain elements until triggered by JavaScript, or highlight form fields based on conditions.</li></ul><h2 id=before-you-begin>Before You Begin</h2><p><strong>Plan your design.</strong> Decide in advance what changes you want to make, and consider creating mock-ups to visualize the final look. Having a clear design direction helps ensure your CSS changes are cohesive and meaningful.</p><p>If you’re new to CSS or Bootstrap, you might review basic CSS and Bootstrap documentation first. Since Kianda is built on Bootstrap, you can use familiar classes, breakpoints, and responsive utilities to craft a user-friendly layout.</p><h2 id=where-to-find-and-edit-the-global-css-file>Where to Find and Edit the Global CSS File</h2><ol>
<li>
<p>As an <strong>Administrator</strong>, go to <strong>Administration</strong> > <strong>Developer</strong>.</p></li><li>
<p>Click on <strong>Edit Global CSS</strong>.</p></li><li>
<p>The global CSS file editor opens allowing a developer to edit the global CSS file.</p><p><img src=/images/css-editor.jpg alt="CSS Editor"></p></li><li>
<p>When finished, click <strong>OK</strong>, then <strong>Save Changes</strong> in the Look and Feel section. Refresh Kianda to ensure the changes load.</p></li></ol><h2 id=effective-use-of-css-classes>Effective Use of CSS Classes</h2><p>CSS classes let you define a style rule once and apply it to multiple elements. For instance, to create a “tile” style that you can reuse across many forms:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tile</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>border-radius</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>border</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#204a87;font-weight:700>px</span> <span style=color:#204a87;font-weight:700>solid</span> <span style=color:#0000cf;font-weight:700>#e7eaee</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>background</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>white</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>margin-bottom</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>15</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>padding</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>18</span><span style=color:#204a87;font-weight:700>px</span> <span style=color:#0000cf;font-weight:700>15</span><span style=color:#204a87;font-weight:700>px</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#204a87;font-weight:700>px</span> <span style=color:#0000cf;font-weight:700>15</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Next, apply this class to any element in Kianda by typing “tile” into the <strong>Custom CSS class name</strong> field in the process designer.</p><p><strong>Tip:</strong> Use clear, descriptive class names. They help you maintain consistency and make future adjustments easier.</p><h2 id=beyond-look-and-feel-using-css-for-functionality>Beyond Look and Feel: Using CSS for Functionality</h2><p>While CSS is primarily for styling, you can also pair it with JavaScript to achieve functional effects. For example, you could:</p><ul>
<li><strong>Hide elements:</strong> Use <code>display:none;</code> in CSS to initially hide a button, then show it dynamically through JavaScript.</li><li><strong>Highlight states:</strong> Combine CSS classes with conditions in Kianda’s logic to emphasize fields that need attention.</li></ul><p>This blend of styling and scripting can improve your workflows without cluttering your markup.</p><h2 id=working-with-bootstrap>Working with Bootstrap</h2><p>Since Kianda uses Bootstrap, you can leverage Bootstrap’s utility classes to quickly style elements without custom CSS. For example, use <code>.text-center</code> to center text or <code>.d-none</code> to hide elements. If you do need custom rules, try extending or overriding Bootstrap styles sparingly. Keep these tips in mind:</p><ul>
<li><strong>Avoid deep overrides:</strong> Stick to high-level classes or create new classes rather than overriding too many built-in Bootstrap rules. This reduces complexity.</li><li><strong>Responsive design:</strong> Use Bootstrap’s responsive classes and media queries to ensure your workspace looks good on all devices.</li></ul><h2 id=using-font-awesome-icons>Using Font Awesome Icons</h2><p>Icons can improve usability and help users instantly recognize actions:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>:</span><span style=color:#5c35cc;font-weight:700>before</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>font-family</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Font Awesome 5 Free&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>content</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;\f007&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>display</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>inline-block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>padding-right</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>10</span><span style=color:#204a87;font-weight:700>px</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>vertical-align</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>middle</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>font-weight</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>900</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>This rule displays a user icon before any link (<code>&lt;a></code> element). Adjust icons by changing the Unicode value or adding conditions. For more details, see Font Awesome’s <a href=https://fontawesome.com/web/setup/upgrade/pseudo-elements>pseudo-elements guide</a> and <a href=https://fontawesome.com/cheatsheet>cheatsheet</a>.</p><h2 id=local-vs-global-css>Local vs. Global CSS</h2><p>While the Global CSS file affects your entire Kianda workspace, sometimes you want to make changes only in one process or dashboard. In that case, add <code>&lt;style></code> tags directly into a <strong>Rich Text</strong> field in that process or dashboard. This local approach ensures your changes are contained and won’t impact other parts of the system.</p><p>For example, to color all buttons magenta in a specific process:</p><ol>
<li>Add a <strong>Rich Text</strong> field to your process.</li><li>Open <strong>Code View</strong> and wrap your CSS in <code>&lt;style>&lt;/style></code> tags.</li><li>Add your button styling inside the tags.</li><li>Save and preview the process—the buttons will now have a magenta background, without altering buttons in other processes.</li></ol><h2 id=naming-conventions-and-maintenance>Naming Conventions and Maintenance</h2><p>Over time, your Global CSS file can grow. Keep it maintainable by:</p><ul>
<li><strong>Using meaningful names:</strong> Class names like <code>.primary-btn</code> or <code>.invoice-tile</code> convey purpose.</li><li><strong>Grouping related styles:</strong> Organize your file so that similar rules (e.g., buttons, panels, modals) are together.</li><li><strong>Commenting your code:</strong> Document why certain overrides exist. This helps future administrators or developers understand your intentions.</li></ul><h2 id=testing-and-iteration>Testing and Iteration</h2><p>After saving changes, always refresh Kianda and test your workspace on different devices or browsers. Check that your modifications didn’t unintentionally affect other elements. If you notice unwanted changes, refine your selectors or consider using local CSS for more targeted modifications.</p><hr>
<p><strong>In summary</strong>, the Global CSS file is a powerful tool that helps you shape your Kianda environment. By planning ahead, using descriptive classes, taking advantage of Bootstrap utilities, and keeping your code organized, you’ll create a more engaging, visually appealing, and functional workspace for your users.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-261c10e66099b20c6d01e49d05aafeb1>5 - Global JavaScript file</h1><div class=lead>Add global JavaScript for custom logic and reusable functions available across your entire Kianda workspace</div><p>The <strong>Global JavaScript file</strong> in Kianda gives you a central place to add custom JavaScript code that will be loaded and available across your entire workspace. Whether you want to create helper functions, bind custom actions to user interactions, or integrate with front-end frameworks at a deeper level, this file provides a convenient, site-wide JavaScript environment.</p><p>Because it’s globally accessible, you can think of this file as your own mini library of utilities and features that any process, form, or dashboard in Kianda can tap into. For example, you could define functions to:</p><ul>
<li>Manipulate DOM elements dynamically,</li><li>Handle global events or user interactions,</li><li>Integrate external APIs or services consistently,</li><li>Hook into the Ember.js application lifecycle that Kianda’s front-end runs on.</li></ul><h2 id=why-use-a-global-javascript-file>Why Use a Global JavaScript File?</h2><p><strong>Reuse and maintainability:</strong> Instead of duplicating code across multiple processes or forms, write it once here. Any code in this file can be called from anywhere else, reducing repetition and simplifying long-term maintenance.</p><p><strong>Centralized customization:</strong> Keep your custom logic organized in one place. If you need to adjust a commonly used function, updating it in the Global JavaScript file instantly applies the change throughout the workspace.</p><p><strong>Deep integration:</strong> Kianda is built on Ember.js. By hooking into the Ember application through the global file, you can access app instances, sessions, and stores, letting you implement advanced custom behaviors that integrate with Kianda’s internal mechanisms.</p><h2 id=getting-started>Getting Started</h2><ol>
<li>
<p><strong>Access the Developer Page:</strong><br>
As an <strong>Administrator</strong>, go to <strong>Administration</strong> > <strong>Developer</strong> in the Kianda menu.</p></li><li>
<p><strong>Open Global JavaScript Editor:</strong><br>
Click <strong>Edit Global JavaScript</strong> to open the JavaScript editor. If you’ve already added code, it will appear here; if not, you can start from scratch.</p></li><li>
<p><strong>Add or Modify Code:</strong><br>
Write or paste your JavaScript. You can define functions, create event listeners, or even hook into Ember’s initialization sequence. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>testClick</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Testing a button click&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Ember app hooks for advanced integration
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>kiandaApp</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>init</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>boot</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>then</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>appInstance</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>__container__</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>owner</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>session</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>appInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>lookup</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;service:session&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>store</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>appInstance</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>lookup</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;service:store&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// Add custom logic here if needed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>didInit</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>appInstance</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Fires after the app has initialized
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// Ideal place for actions that require a fully loaded environment
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span></code></pre></div></li><li>
<p><strong>Save and Apply Changes:</strong><br>
Click <strong>OK</strong>, then <strong>Save Changes</strong> in the Subscription Details page. After saving, refresh your workspace to ensure the new code is loaded globally.</p></li><li>
<p><strong>Use the Generated URL (If Needed):</strong><br>
A URL is generated for the Global JavaScript file. Typically, you don’t need to reference this URL directly within Kianda, but it’s available for troubleshooting or external references.</p></li></ol><h2 id=best-practices>Best Practices</h2><ul>
<li><strong>Keep it organized:</strong> Group related functions together and comment your code, so it’s easier to maintain as your workspace grows.</li><li><strong>Use namespaces:</strong> To avoid naming conflicts, consider wrapping related functions in a single object or namespace. For example:
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>myCompanyUtils</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>setHeader</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>elementId</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>text</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>headerElement</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>document</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getElementById</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>elementId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>headerElement</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>headerElement</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>innerHTML</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>text</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span></code></pre></div></li><li><strong>Embrace Ember hooks:</strong> The <code>window.kiandaApp</code> object gives you direct access to Ember’s lifecycle. Use <code>init</code> or <code>didInit</code> to run code at startup, obtain services, or dynamically modify application behavior.</li><li><strong>Leverage jQuery/Vanilla JS:</strong> Kianda includes jQuery, but you can also use modern JavaScript APIs (<code>document.querySelector</code>, etc.). Prefer modern APIs when possible for cleaner, more performant code.</li></ul><h2 id=example-dynamic-interaction-with-a-dashboard>Example: Dynamic Interaction with a Dashboard</h2><p>Here’s a more detailed example of a global function that updates a dashboard header based on a user’s selection in a dropdown:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>setHeader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>elementId</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Assuming the dropdown has a Kendo UI component or a similar API
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>dropdown</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;filter.dropdown [data-role=dropdownlist]&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;kendoDropDownList&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#000>dropdown</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>bind</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;cascade&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>selectedText</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dropdown</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>text</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>headerElement</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>document</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getElementById</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>elementId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>headerElement</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>headerElement</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>innerHTML</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selectedText</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>How This Helps:</strong><br>
When a user selects a new filter in the dropdown, <code>setHeader</code> runs automatically (after binding), updating the displayed header dynamically. This logic can be easily reused in multiple dashboards or pages—just call <code>setHeader</code> with the correct element ID in each case.</p><h2 id=additional-ideas>Additional Ideas</h2><ul>
<li><strong>Data formatting functions:</strong> Create global helpers for formatting dates, numbers, or strings consistently across all processes.</li><li><strong>Event-based logic:</strong> Attach global event listeners to window or document, and run specific functions in response to custom events fired within Kianda.</li><li><strong>Complex integrations:</strong> Use <code>fetch</code> or AJAX calls to integrate with external APIs, then store or display the returned data in various parts of your workspace.</li></ul><hr>
<p><strong>In summary</strong>, the Global JavaScript file in Kianda is your toolbox. By placing commonly used functions, event handlers, and Ember lifecycle hooks here, you maintain a cleaner, more efficient codebase and give yourself the flexibility to implement custom logic throughout your workspace with minimal repetition.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-a67ca3e28bb82f131e579817c442adb1>6 - List widget template customisation</h1><div class=lead>Learn how to customize Kianda list widget with Handlebars templates</div><p>The <a href=/platform/pages/list/>List widget</a> is a powerful dashboard component that displays process records or instances in an organized, visual format. For example, a “Training Requests” list can show each request’s ID, status, and the employee’s name who submitted it—all in one convenient place:</p><p><img src=/images/dashboard-page-example.jpg alt="Dashboard page example with Training Requests list widget"></p><p>You can configure the List widget with no-code steps—such as filtering data, displaying specific fields, and enabling sorting or search features. For details, see <a href=/platform/pages/list/#configure-your-widget>Configure your widget</a>.</p><p>However, to truly make the widget your own, you can customize it using HTML and Handlebars templates. This approach lets you change its look and feel, add icons, or even integrate dynamic behavior. In the following sections, we’ll walk you through how to get started with these customizations.</p><h2 id=how-to-get-started-with-list-widget-customization>How to Get Started with List Widget Customization</h2><p>As with any of Kianda’s predefined dashboard widgets, you can add a <strong>List widget</strong> to your dashboard with just a few clicks. For details on adding widgets, see <a href=/platform/pages/#how-to-add-widgets-to-a-dashboard-page>How to add widgets to a dashboard page</a>.</p><p>The standard List widget already provides extensive configuration options—like conditions, sorting, and filtering—that leverage both design fields and Kianda’s built-in <a href=/platform/application-designer/process/common-fields/>process fields</a>. Yet, if you have an <strong>Administrator</strong> role, you can take this further by customizing how the List widget displays its data:</p><ol>
<li>
<p>Go to an existing dashboard page or create a new one. Click <strong>Edit current page</strong> <img src=/images/edit-current-page.jpg alt="Edit button"> to enter <strong>Edit mode</strong>.</p></li><li>
<p>Add a new <strong>List</strong> widget from the dashboard widget menu if none exists, or edit an existing one by clicking its <strong>Edit/pen</strong> icon.</p><p><img src=/images/dashboard-seven-widgets.jpg alt="Dashboard widgets menu in Edit mode"></p></li><li>
<p>In the <strong>Edit widget</strong> dialog, configure the widget by selecting which fields to display and how you’d like the data to appear. For guidance, see <a href=/platform/pages/list/#configure-your-widget>Configure your widget</a>.</p></li><li>
<p>Once your fields are selected, click on <strong>List fields</strong> in the Edit widget dialog. Here, you’ll find two important buttons:</p><ul>
<li><strong>Add column</strong>: Lets you add a new column with custom HTML or Handlebars code.</li><li><strong>Add action</strong>: Lets you attach a button to trigger rules or actions from the dashboard.</li></ul><p><img src=/images/add-column-action-buttons.jpg alt="Add column and Add action buttons"></p></li><li>
<p><strong>Add column</strong> <img src=/images/add-column-button.jpg alt="Add column button">:<br>
Clicking this opens a code editor where you can customize the presentation of your data. Insert HTML, Handlebars expressions, and even Font Awesome icons for visual cues. You can also hide a column if needed.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>&lt;div class=&#34;panel panel-primary&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;button class=&#34;btn btn-warning&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>row.properties.InternalStatus</span> <span style=color:#4e9a06>&#34;completed&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>      &lt;span class=&#34;fa fa-check-circle&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>row.properties.InternalStatus</span> <span style=color:#4e9a06>&#34;PO Request&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>      &lt;span class=&#34;fa fa-question-circle&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>row.properties.InternalStatus</span> <span style=color:#4e9a06>&#34;Approval&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>      &lt;span class=&#34;fa fa-thumbs-up&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>row.properties.InternalStatus</span> <span style=color:#4e9a06>&#34;Supplier Invoice&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>      &lt;span class=&#34;fa fa-newspaper-o&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#a40000>(</span><span style=color:#000>eq</span> <span style=color:#000>row.properties.InternalStatus</span> <span style=color:#4e9a06>&#34;Payment&#34;</span><span style=color:#a40000>)</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>      &lt;span class=&#34;fa fa-money&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>    </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>&lt;/div&gt;
</span></span></span></code></pre></div></li><li>
<p><strong>Add action</strong> <img src=/images/add-action-button.jpg alt="Add action button">:<br>
Use this feature to add a dashboard button that, when clicked, triggers specific rules or actions associated with a field in the underlying process. For example, you could re-run a “Submit” action even after a process instance is complete.</p><p><img src=/images/add-list-action.jpg alt="Add List Action dialog box"></p><p>Choose a field or rule to trigger, assign an icon, and pick a button color. Your dashboard users will then be able to perform these actions directly from the list.</p></li><li>
<p>After making your changes, click <strong>OK</strong> to confirm. Then save your dashboard page changes by clicking the <strong>Save</strong> button <img src=/images/dashboard-save-button.jpg alt="Dashboard Save button">. You’ll see a “Page saved successfully” message.</p></li></ol><h2 id=example-of-list-widget-customization>Example of List Widget Customization</h2><p>In the sample code above, we used Handlebars logic (<code>{{#if}}</code> conditions) to display different Font Awesome icons depending on the process instance’s status. For instance:</p><ul>
<li><strong>PO Request</strong>: Shows a question-circle icon.</li><li><strong>Approval</strong>: Shows a thumbs-up icon.</li><li><strong>Supplier Invoice</strong>: Shows a newspaper icon.</li><li><strong>Payment</strong>: Shows a money icon.</li><li><strong>Completed</strong>: Shows a check-circle icon.</li></ul><p>Since Kianda already loads Font Awesome, you can easily map different icons to different states, giving users a quick visual cue about each record’s progress.</p><p>When you follow the steps described and apply code via <strong>Add column</strong>, your dashboard might look like this:</p><p><img src=/images/customised-list-widget.jpg alt="Customised list widget"></p><p>You can also use JavaScript to enhance the widget’s functionality. For example, you could write custom actions in your Global JavaScript file (see <a href=/low-code/global-javascript-file/>Global JavaScript file</a>) and then call them from within the Handlebars template. This flexibility means you’re not limited to static displays—you can introduce interactivity and dynamic content tailored to your specific requirements.</p><hr>
<p>By blending Kianda’s built-in configuration options with custom HTML, Handlebars templating, and JavaScript actions, you can create a List widget that perfectly suits your reporting and visualization needs. This approach keeps development simple (just like regular front-end work) while unlocking a rich set of possibilities for your business dashboards.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-7c31cf13041be40508bf764cc8da4f95>7 - Kianda as a Progressive Web Application (PWA)</h1><div class=lead>Learn about the benefits of PWA for enterprise mobile solutions deployment</div><h2 id=what-is-a-pwa>What is a PWA?</h2><p>A <strong>Progressive Web Application (PWA)</strong> is a web-based application that delivers a native app-like experience on any device—mobile, tablet, or desktop—without requiring an app store download. PWAs leverage modern web technologies to offer features such as offline availability, push notifications, and fast load times, all while maintaining the convenience and accessibility of a standard website.</p><p>By running Kianda as a PWA, you gain a flexible, secure, and user-friendly solution for enterprise mobility without the overhead of traditional mobile app distribution. Accessing Kianda through a PWA feels like using a native app, but with the continuous updates and centralized maintenance of a cloud-based web application.</p><h2 id=why-choose-a-pwa-for-enterprise-applications>Why Choose a PWA for Enterprise Applications?</h2><ul>
<li>
<p><strong>No App Store Submission:</strong><br>
Distribute and update your enterprise application directly. Users can “install” Kianda from their browser without going through an app store.</p></li><li>
<p><strong>Offline Capability:</strong><br>
Work seamlessly—even without network access. Tasks, forms, and process instances can be completed offline and automatically synced when connectivity returns.</p></li><li>
<p><strong>Fast and Responsive:</strong><br>
Thanks to caching and efficient resource handling, PWAs load quickly. Users benefit from smoother interactions and better performance on all devices.</p></li><li>
<p><strong>Engaging User Experience:</strong><br>
Receive timely push notifications and view content in a user-friendly interface that adapts to any screen size. Add your brand’s icon and color scheme for a polished, consistent experience.</p></li><li>
<p><strong>Enhanced Security:</strong><br>
PWAs use secure HTTPS connections, leveraging browser-level security features like SSL encryption to protect data in transit.</p></li></ul><h2 id=key-benefits-of-using-kianda-as-a-pwa>Key Benefits of Using Kianda as a PWA</h2><h3 id=offline-use>Offline Use</h3><p>If users are in areas with limited or no connectivity—such as remote worksites or underground facilities—the PWA ensures they can still fill out forms, submit inspections, or log tasks. Changes made offline sync automatically when the device reconnects, eliminating data loss and downtime.</p><h3 id=improved-performance>Improved Performance</h3><p>PWAs cache essential resources locally, reducing load times and improving reliability. Users enjoy instant access to Kianda processes and forms, contributing to better productivity and user satisfaction.</p><h3 id=easy-installation-and-maintenance>Easy Installation and Maintenance</h3><p>Installing Kianda as a PWA is as simple as adding it to your home screen. Since updates happen behind the scenes over the web, there’s no need for users to download updates manually. Your IT team can roll out new features or fixes instantly, ensuring everyone is always on the latest version.</p><h3 id=brand-consistency-and-engagement>Brand Consistency and Engagement</h3><p>Customize the PWA’s splash screen, icons, and theme colors to match your company’s identity. With push notifications enabled, you can engage your workforce, sending timely updates or alerts that improve communication and responsiveness.</p><h3 id=cross-platform-and-responsive>Cross-Platform and Responsive</h3><p>Kianda’s interface adapts to various screen sizes and devices. Whether users access it from a smartphone, tablet, or desktop browser, they enjoy a consistent, intuitive experience. This adaptability also reduces development costs and complexity.</p><h2 id=how-to-install-the-kianda-pwa>How to Install the Kianda PWA</h2><h3 id=general-requirements>General Requirements</h3><ul>
<li>Ensure you have the latest version of your device’s operating system.</li><li>Obtain your unique Kianda workspace URL, typically <code>https://&lt;businessName>.kianda.com</code>.</li></ul><h3 id=android-installation>Android Installation</h3><ol>
<li>
<p><strong>Navigate to the Kianda Workspace:</strong><br>
Open your preferred browser (e.g., Chrome) and go to <code>https://&lt;businessName>.kianda.com</code>.</p></li><li>
<p><strong>Prompt to Add to Home Screen:</strong><br>
On Android devices, you may be automatically prompted to add Kianda to your home screen. Tap <strong>Add [Business Name] to Home screen</strong>, then confirm by tapping <strong>Install</strong>.</p><p><img src=/images/pwa-android1.jpg alt="Android PWA Add to Home screen"></p></li><li>
<p><strong>Confirmation and Access:</strong><br>
Once installed, a notification confirms the addition. An app-like icon with your brand’s image appears among your installed applications. Tapping the icon opens a loading screen with your chosen branding, then prompts for login credentials.</p><p><img src=/images/pwa-android2.jpg alt="PWA android notification">
<img src=/images/pwa-android3.jpg alt="PWA android access"></p></li></ol><p><strong>Manual Installation (Android)</strong><br>
If the automatic prompt doesn’t appear, follow these steps:</p><ul>
<li>Navigate to <code>https://&lt;businessName>.kianda.com</code> in your browser.</li><li>Tap the menu icon <img src=/images/android-nav.png alt=android-nav> and select <strong>Add to Home screen</strong>.</li><li>Confirm by tapping <strong>Add</strong>.</li></ul><h3 id=ios-installation>iOS Installation</h3><ol>
<li>
<p><strong>Open Kianda in Safari:</strong><br>
Navigate to <code>https://&lt;businessName>.kianda.com</code> using Safari on your iPhone or iPad.</p><p><img src=/images/pwa-ios1.jpg alt="iOS PWA Navigate to business domain"></p></li><li>
<p><strong>Add to Home Screen:</strong><br>
Tap the Share/Action button <img src=/images/ios-action.png alt=ios-action>, then select <strong>Add to Home Screen</strong>.</p><p><img src=/images/pwa-ios2.jpg alt="iOS PWA Add to Home screen"></p></li><li>
<p><strong>Confirm Installation:</strong><br>
Tap <strong>Add</strong>. The Kianda icon now appears on your home screen. Launching it opens your branded splash screen and then the login prompt. After logging in, you can access your processes as you would on any native app.</p><p><img src=/images/pwa-ios3.jpg alt="PWA iOS logging in using app"></p></li></ol><h2 id=tips-and-best-practices>Tips and Best Practices</h2><ul>
<li>
<p><strong>Encourage Users to Install the PWA:</strong><br>
Provide instructions or internal communications explaining how easy it is to install Kianda as a PWA, ensuring widespread adoption.</p></li><li>
<p><strong>Manage Push Notifications:</strong><br>
If your organization uses push notifications, remind users that they can disable them if desired. For users who opt-in, timely and relevant notifications can improve engagement and responsiveness.</p></li><li>
<p><strong>Regular Updates:</strong><br>
Keep refining and updating your Kianda processes. Since PWAs update automatically, users always have access to the latest forms and features without manual intervention.</p></li><li>
<p><strong>Offline Testing:</strong><br>
Periodically test offline scenarios to ensure forms and tasks behave as expected without connectivity. This helps maintain user trust and productivity.</p></li></ul><hr>
<p><strong>In Summary:</strong><br>
Turning Kianda into a Progressive Web Application provides a smooth, offline-capable, and engaging experience that feels just like a native mobile app—without the overhead of app store submissions or complex installations. By following the steps above and leveraging Kianda’s responsive, secure design, you can deliver a seamless, modern, and enterprise-ready application experience to your users.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-ed7edc571a23df44396d3ad7f13d5b42>8 - Webhooks</h1><div class=lead>Learn how to configure webhooks to receive web callbacks from record creation</div><p><strong>Webhooks</strong> in Kianda provide a straightforward way to notify external applications in real time when certain events occur within your workspace. Rather than constantly polling Kianda for updates, webhooks allow you to react immediately whenever <strong>process instances are created, updated, or deleted</strong>. This makes event handling efficient and responsive.</p><p>When a webhook event fires, Kianda sends an HTTP GET request to the configured URL(s), passing along essential details such as the process name, instance ID, and the type of event. Your external application can then use this information to update its own records, trigger workflows, or perform any other actions needed.</p><p><strong>Note:</strong> The callback request has a timeout of 10 seconds. If your external service does not respond within this time, the request may fail.</p><h2 id=setting-up-webhooks-in-kianda>Setting Up Webhooks in Kianda</h2><p>To implement webhooks, you need an <strong>Administrator</strong> or <strong>Developer</strong> role. For more details on roles, see <a href=/platform/administration/users/>Users & Groups</a>.</p><ol>
<li>
<p><strong>Open the Developer Resources:</strong></p><ul>
<li>Go to <strong>Administration</strong> in the left-hand sidebar.</li><li>Click on <strong>Developer</strong> to open the <strong>Developer resources</strong> page.</li></ul><p><img src=/images/widgetview.gif alt="Developer resources page"></p></li><li>
<p><strong>Access Webhooks:</strong></p><ul>
<li>Click on <strong>Webhooks</strong> to configure callback URLs.</li></ul></li><li>
<p><strong>Configure Instance Callback URLs:</strong></p><ul>
<li>
<p>The <strong>Instance Callback URLs</strong> dialog box appears.</p><p><img src=/images/webhooks-oneurl.jpg alt="Webhooks dialog"></p></li></ul></li><li>
<p><strong>Enable and Specify Callbacks:</strong>
Turn on the relevant callback(s) using the sliders, then provide the URL(s) that Kianda should call when the selected event occurs.</p><ul>
<li>
<p><strong>Created Callback:</strong> Fires whenever a new process instance is created.</p><ul>
<li>Kianda sends a <strong>HTTP GET</strong> request with parameters:<br>
<code>instanceID={instanceID}&processName={processName}&eventType=created</code></li></ul></li><li>
<p><strong>Updated Callback:</strong> Fires whenever a process instance is updated.</p><ul>
<li>Kianda sends a <strong>HTTP GET</strong> request with parameters:<br>
<code>instanceID={instanceID}&processName={processName}&eventType=updated</code></li></ul></li><li>
<p><strong>Deleted Callback:</strong> Fires whenever a process instance is deleted.</p><ul>
<li>Kianda sends a <strong>HTTP GET</strong> request with parameters:<br>
<code>instanceID={instanceID}&processName={processName}&eventType=deleted</code></li></ul></li></ul><p>For each event type, you can enter one or more URLs (one URL per line) to notify multiple services simultaneously.</p></li><li>
<p><strong>Help and Guidance:</strong>
If you need more details, click the <strong>Help</strong> button <img src=/images/webhookhelp.PNG alt="Help button"> to see additional instructions and examples.</p><p><img src=/images/callback-helptext.jpg alt="Callback helptext"></p></li><li>
<p><strong>Save Your Settings:</strong></p><ul>
<li>Click <strong>OK</strong> to confirm your settings.</li><li>Click <strong>Close</strong> if you want to exit without saving.</li></ul></li></ol><p>Once configured, Kianda will send HTTP GET requests to the specified URLs whenever the corresponding event occurs. You can then build logic in your external application(s) to handle these events—updating records, triggering other workflows, or integrating with third-party services.</p><hr>
<p><strong>In summary</strong>, Kianda’s webhook functionality allows your workspace to seamlessly connect with external applications in real time, reducing the need for constant polling and making it easier to maintain synchronized data and processes across systems.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-c9cf916a2451445a7806d5b8ba5e7d89>9 - Introduction to Ember.js in Kianda</h1><div class=lead>Learn about the emberjs in Kianda</div><p>Kianda’s front-end is built on <strong>Ember.js</strong>, a framework designed for creating rich, interactive web applications. Ember provides a powerful structure for building interfaces that dynamically respond to user input and data changes. To produce its UI, Ember uses <strong>Handlebars</strong>, a templating language that makes it easy to bind data models to your HTML.</p><p>If you’re familiar with modern web development, you’ll find Ember’s approach intuitive: templates, components, and data binding come together to create a smooth, dynamic user experience within Kianda’s low-code environment.</p><h2 id=handlebars-templating-made-easy>Handlebars: Templating Made Easy</h2><p><strong>Handlebars</strong> is a templating language that lets you write declarative HTML with embedded expressions. These expressions—enclosed in <code>{{double curly braces}}</code>—are automatically replaced by values from your data models.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>&lt;p&gt;</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>firstname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000> </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>surname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/p&gt;
</span></span></span></code></pre></div><p>If the data model provides:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>firstname</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Ryan&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>surname</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;B&#39;Oul&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>The rendered HTML is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Ryan B&#39;Oul<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>This simple approach makes it easy to display dynamic data without writing complex logic. When data updates, the template refreshes automatically, ensuring users always see the latest state.</p><h2 id=using-properties-and-dot-notation>Using Properties and Dot Notation</h2><p>Handlebars supports “dot notation” to access nested properties in objects:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>&lt;p&gt;</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>person.firstname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000> </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>person.surname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/p&gt;
</span></span></span></code></pre></div><p>If <code>person</code> is an object with <code>firstname</code> and <code>surname</code> properties, Handlebars will replace them in the template, keeping your markup clean and readable.</p><h2 id=built-in-helpers>Built-in Helpers</h2><p>Ember and Handlebars include <strong>helpers</strong>—functions used inside templates to handle common tasks. For example, <code>each</code> lets you iterate over arrays:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>&lt;ul&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#each</span> <span style=color:#000>employee</span> <span style=color:#000>as</span> <span style=color:#a40000>|</span><span style=color:#000>name</span><span style=color:#a40000>|</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>    &lt;li&gt;</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>name</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#000>  </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/each</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>&lt;/ul&gt;
</span></span></span></code></pre></div><p>Given:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Ryan B&#39;Oul&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Mike Balcoome&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Maddie Lehane&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>The template renders:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>Ryan B&#39;Oul<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>Mike Balcoome<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>Maddie Lehane<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>Similarly, <code>if</code> conditions let you show or hide content based on data:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>#if</span> <span style=color:#000>manager</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>  &lt;h1&gt;</span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>firstname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000> </span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#000>lastname</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>&lt;/h1&gt;
</span></span></span><span style=display:flex><span><span style=color:#000></span><span style=color:#8f5902;font-style:italic>{{</span><span style=color:#204a87;font-weight:700>/if</span><span style=color:#8f5902;font-style:italic>}}</span><span style=color:#000>
</span></span></span></code></pre></div><p>If <code>manager</code> is <code>true</code>, the heading appears; if not, it’s hidden. Helpers let you add simple logic to templates without cluttering your code.</p><h2 id=creating-custom-helpers>Creating Custom Helpers</h2><p>You can extend Ember’s capabilities by writing your own helpers. For instance, you might create a helper to format dates or combine multiple properties. This keeps your templates clean and your logic reusable.</p><h2 id=inspecting-the-app-with-ember-inspector>Inspecting the App with Ember Inspector</h2><p>To better understand Kianda’s components and data, you can use the <strong>Ember Inspector</strong>—a browser add-on that helps you explore the internal structure of Ember apps. With it, you can:</p><ul>
<li>Inspect components and their properties.</li><li>Understand the data models and routes.</li><li>See which templates are used for specific UI elements.</li></ul><p><strong>How to Get Started with Ember Inspector:</strong></p><ol>
<li>Install the Ember Inspector from the Chrome Web Store or your browser’s add-ons marketplace.</li><li>Open your Kianda workspace and log in.</li><li>Right-click on the page and select <strong>Inspect</strong>.</li><li>Navigate to the <strong>Ember</strong> tab in the developer tools.</li><li>Explore components, routes, and data to learn how Kianda’s UI is constructed.</li></ol><h2 id=components-and-properties>Components and Properties</h2><p>In Kianda, many UI elements—like fields, rules, and dashboard widgets—are implemented as Ember components. By inspecting them with the Ember Inspector, you can discover their properties and understand how they’re rendered. This knowledge can guide you when creating your own custom widgets or applying advanced customizations.</p><hr>
<p><strong>In Summary:</strong><br>
Ember.js and Handlebars provide a robust foundation for Kianda’s dynamic interfaces. Handlebars lets you write simple, declarative templates tied directly to your data, while Ember’s helpers and components help keep your application organized and responsive. Combined with tools like the Ember Inspector, these technologies give you the power to understand and customize Kianda’s front-end to suit your needs.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-ad44e01e726cf15f5e99630ea0dee51e>10 - Custom Connector Development</h1><div class=lead>Learn about custom connectors, what they are and why they are used</div><h2 id=what-are-custom-connectors>What are Custom Connectors?</h2><p>Kianda provides predefined datasource connectors such as the SQL server and SharePoint to allow you to connect your processes to particular data sources. A complete list of these predefined datasources is available at <a href=/platform/connectors/>Data connectors</a>. In addition to these predefined connectors, you can also create <strong>Custom connectors</strong> to enable you to configure your own connector to suit your needs.</p><p>Connectors in Kianda rely on a secure <strong>micro-service architecture</strong> that uses HMAC 256 to allow the configuration and connection to data sources.</p><p>Custom connectors work in the same way as other Kianda connectors, but with the added benefit of customisation.</p><p>The key components for a connector are:</p><ol>
<li>Backend micro-service to handle the actual connection to data sources</li><li>Front-end data source configuration component (Handlebars + JavaScript)</li><li>Security Keys (ClientID + Secret Key)</li></ol><h2 id=what-are-custom-connectors-used-for>What are Custom Connectors used for?</h2><p>Custom connectors provide the infrastructure to allow developers to create a custom datasource, it provides hooks for pre- and post-processing of the query and the ability to customise the datasource settings for the connector.</p><h2 id=custom-connector-vs-datasource>Custom Connector VS Datasource</h2><p>As previously mentioned, the Kianda platform provides a list of predefined datasource connectors, such as SharePoint, SQL server and SAP. These however cannot be customized for an individual companies needs.</p><p>Custom Connectors provide end-to-end customisation for datasource connections. The Custom Connector provides the architecture to allow customisation of pre- and post-processing of database queries.</p><p>For example when using a SharePoint data source you can use parameters for example selection of the environment and user credentials, but if you needed extra parameter, you could use the custom connector to provide this ability.</p><h2 id=how-to-get-started>How to get started</h2><p>There are three key steps that need to be implemented in order to create and use a customised connector as follows:</p><ol>
<li>
<p>Microservice - create a <strong>microservice</strong> that will implement metadata, query and test functions. &lt;!&ndash; click on the <a href=/low-code/connector/create-microservice/>Microservice</a> link to get further details. &ndash;></p></li><li>
<p>Use Kianda features to create and test your customised connector - use <strong>Developer</strong> to register a new connector&lt;!&ndash; <a href=/low-code/connector/steps-to-create/#register-a-new-connector>register a new connector</a> &ndash;> and use <strong>Data sources</strong> to &lt;!&ndash; <a href=/platform/connectors/#registering-a-datasource>create a datasource</a> &ndash;> create a datasource for the newly customised connector. Both of these features are available under <strong><a href=/platform/administration/>Administration</a></strong></p></li><li>
<p>Process - use the custom connector to bring data into a process and use the <strong>query hook</strong> to filter the data. Use Kianda <strong>Designer</strong> to connect your data source to Kianda forms, for example a List control can connect to a datasource, see step 9 in <a href=/platform/controls/input/list/#how-to-get-started>List control</a>.</p></li></ol><h2 id=whats-next-idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h2><p>To create a test service, follow the 3 steps above, or if you have already created a microservice go straight to <a href=/low-code/connector/steps-to-create/>steps to create a custom connector</a> to learn how to create a custom connector.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-fd1fa15e8d49f636f316a9e7f8c475c0>10.1 - Microservice Creation</h1><h2 id=what-is-a-microservice>What is a Microservice</h2><p>A microservice is a self contained independent service, usually hosted in the cloud, which can integrate with applications through REST APIs. Microservices allow developers to focus on developing a service without worrying about dependencies.</p><p>A microservice can be developed using almost any programming language.</p><h2 id=prerequisites>Prerequisites</h2><p>Before you get started, check that the following prerequisites are in place:</p><ul>
<li><strong>Ability/permissions</strong> to create resources with a cloud platform, for example, Google Cloud, AWS or Azure</li><li><strong>Administration</strong> role or permissions within an Admin group within Kianda, see <a href=/platform/administration/users/>Users and Groups</a> for more information</li><li><strong>Visual Studio</strong> installed or other text editor for your chosen programming language</li></ul><h3 id=microservice-requirements>Microservice Requirements</h3><p>Your microservice should implement the following three functions:</p><ol>
<li><a href=#test>Test</a></li><li><a href=#metadata>Metadata</a></li><li><a href=#query>Query</a></li></ol><p>It is required that the microservice uses <a href=#security>security</a> best practices, to encrypt sensitive data using <a href=#aes256>AES</a> encryption and verify that each request and response is secure using a <a href=#hmac>HMAC</a> signature.</p><h2 id=microservice-development>Microservice Development</h2><p>The following steps for development will use Microsoft Azure cloud as an example, however, other cloud computing platforms with similar features can be used resulting in different naming conventions. The key steps are:</p><ol>
<li>
<p>Create a serverless <strong>Azure function app</strong> in Visual Studio by creating a new project, searching for Azure functions and using this as a template to get started. As well as the pre-defined libraries in the template, you must also add the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Security.Cryptography</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Text</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>Newtonsoft.Json.Linq</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Collections.Generic</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Linq</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div></li><li>
<p>Implement the functions for <a href=#test>Test</a>, <a href=#metadata>Metadata</a> and <a href=#query>Query</a>. Click on each of the links to read more. The steps highlighted in bold are unique to the specific function, while the other steps are repeated in all three functions.</p></li><li>
<p>Debug locally and test using a tool such as Postman or download <a href=/platform/connectors/kianda-cloud-connect/>Kianda Cloud Connect</a>.</p></li><li>
<p>Deploy to Azure.</p></li></ol><h3 id=test>Test</h3><p>The Test function ensures that the user is authorized to use the datasource. If they are not authorized then this function can be used to authorize the user and retrieve an access token for any further requests.</p><p>The steps involved in creating the test function are as follows:</p><ol>
<li>
<p>Deserialize the data in the <a href=#Custom-Connector-Request>custom connector request</a> - see schema for details and <a href=/low-code/connector/sample-code/#test-sample-code>Test sample code</a>.</p></li><li>
<p>Decrypt the encrypted settings property bag using the shared secret key and the Decrypt function, see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li><li>
<p><strong>Authorize the user and retrieve bearer token for subsequent requests and save the token to the settings property bag</strong>.</p></li><li>
<p><strong>Add the oauth token to the settings property bag and encrypt using your secret key.</strong></p></li><li>
<p>Create <a href=#Custom-Connector-Response>custom connector response</a> and include success message to indicate test succeeded/failed.</p></li><li>
<p>Sign the response using the EncryptdatawithHMACSHA256 method and include in the custom connector response, see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li></ol><p>To help you get started, see <strong>sample code for the Test function</strong> by going to <a href=/low-code/connector/sample-code/#test-sample-code>Test sample code</a>.</p><h3 id=metadata>Metadata</h3><p>The Metadata function provides the list of available endpoints in the microservice and is called when selecting the datasource in a Kianda process, for example use a particular datasource to populate a <a href=/platform/controls/input/list/>List field</a> in a Kianda form.</p><p><img src=/images/tree-function-output.jpg alt="Connector tree"></p><p>The steps involved in creating the metadata function are as follows:</p><ol>
<li>
<p>Deserialize the data in the <a href=#Custom-Connector-Request>custom connector request</a> - see schema for details.</p></li><li>
<p>Decrypt the encrypted settings property bag using the shared secret key and the Decrypt function see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li><li>
<p>Create a JSON tree structure similar to the one found at <a href=/low-code/connector/sample-schemas/#tree-schema>Tree schema</a>.</p></li><li>
<p>Create <a href=#Custom-Connector-Response>custom connector response</a> and include success message to indicate success/failure.</p></li><li>
<p>Create a signature string using the EncryptdatawithHMACSHA256 method and include in the custom connector response, see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li></ol><p>To help you get started, see <strong>sample code for the Metadata function</strong> by going to <a href=/low-code/connector/sample-code/#metadata-sample-code>Metadata sample code</a>.</p><h3 id=query>Query</h3><p>The Query function is where the execution of the datasource methods occurs, the metadata function provides the list of available methods.</p><p>The steps involved in creating the query function are as follows:</p><ol>
<li>
<p>Deserialize the data in the <a href=#Custom-Connector-Request>custom connector request</a> - see schema for details.</p></li><li>
<p>Decrypt the encrypted settings property bag using the shared secret key and the Decrypt function - see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li><li>
<p>Get the <a href=#request-query-object>query object</a> from the request - see schema for details, and call the function related to the query in the datasource .</p></li><li>
<p>Create <a href=#custom-connector-response>custom connector response</a> and include success message to indicate query succeeded/failed.</p></li><li>
<p><strong>Create the <a href=#response-queryresult>query result object</a> - see schema for details, and include in the custom connector response</strong>.</p></li><li>
<p>Sign the response using the EncryptdatawithHMACSHA256 method and include in the custom connector response, see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption/Decryption sample code</a> for an example.</p></li></ol><p>To help you get started, see <strong>sample code for the Query function</strong> by going to <a href=/low-code/connector/sample-code/#query-sample-code>Query sample code</a>.</p><h2 id=security>Security</h2><h3 id=aes256>AES256</h3><p><strong>Advanced Encryption Standard</strong> (AES) is the technique used to encrypt sensitive data. This is a symmetric encryption technique, which means the same key is used to encrypt and decrypt the data, it is also a 2-way encryption algorithm.</p><p><img src=/images/aes-symmetric-encrypt.jpg alt="AES Symmetric Encryption"></p><h3 id=hmac>HMAC</h3><p><strong>Hash based Message Authentication Code</strong> (HMAC) is used to ensure query responses are coming from the correct end point. HMAC is also an encryption algorithm but unlike AES it’s one-way encryption, meaning it isn’t decrypted on the other side. It is used for verification, for example if we encrypt a secret key using HMAC with a request id and then do the same in the response, we can verify that we have got the response back from the correct endpoint and know that it has not been tampered with because both hashes will match. The hash used is <strong>SHA256</strong>.</p><p>With AES we are encrypting and decrypting data and this method is fast and secure for large data, while with HMAC we use it to simultaneously verify both the data integrity and authenticity of a message.</p><p><img src=/images/what-is-hmac.jpg alt="What is HMAC"></p><h3 id=schemas-required-for-custom-connectors>Schemas required for Custom Connectors</h3><h4 id=custom-connector-request>Custom Connector Request</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>CustomConnectorRequest</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>subscriptionId</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>userId</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>requestId</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>action</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Query</span> <span style=color:#000>query</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=request-query-object>Request Query Object</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Query</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>id</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>action</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>JObject</span> <span style=color:#000>info</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>orderBy</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>orderAscending</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>paging</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>rowLimit</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>fields</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Dictionary</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>object</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>mappings</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>filter</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>filterBy</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>filterMode</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=custom-connector-response>Custom Connector Response</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>CustomConnectorResponse</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>requestId</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>QueryResult</span> <span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=response-queryresult>Response QueryResult</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>QueryResult</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>success</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>message</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>JObject</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>items</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>resultCount</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>get</span><span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>set</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=retrieving-urls-for-custom-connector-settings>Retrieving URLs for Custom Connector settings</h3><p>When you have created the Test, Metadata and Query functions and your microservice is running, you should receive an output similar to the following shown using Azure functions:</p><p><img src=/images/azure-function-urls.jpg alt="Azure function URLs"></p><p>These URLs will be used in the <a href=/low-code/connector/steps-to-create/#connector-settings-tab><strong>Connector Settings tab</strong></a> when creating the Custom Connector.</p><h2 id=whats-next-idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h2><p>Once your Microservice is deployed, you are ready to start creating a custom connector go to <a href=/low-code/connector/steps-to-create/>steps to create a custom connector</a>.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-5ce926f0a816c854dda8f4974f650d05>10.2 - Sample schemas</h1><h1 id=introduction>Introduction</h1><p>This page features sample schemas for parameters used in the <a href=/low-code/client-connector/how-to-create/#query-code>Query Code</a> tab when creating a customised data connector.</p><p>Each section below features exemplar schemas and parameters to help you when creating code for your hooks in the <strong>Query Code</strong> tab.</p><h2 id=metadata-hook-related-schemas>Metadata hook related schemas</h2><p>The <strong>Metadata hook</strong> in the <a href=/low-code/client-connector/how-to-create/#query-code>Query Code</a> tab typically looks like the following, using two parameters: <code>tree</code> and <code>datasource</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-handlebars data-lang=handlebars><span style=display:flex><span><span style=color:#000>metaData(tree, datasource) </span><span style=color:#a40000>{</span><span style=color:#000>
</span></span></span><span style=display:flex><span><span style=color:#000>    return tree;
</span></span></span><span style=display:flex><span><span style=color:#000>  }
</span></span></span></code></pre></div><p>Sample schemas for <a href=#tree-schema><code>tree</code></a> and <a href=#datasource-schema><code>datasource</code></a> are available by clicking on the links.</p><h3 id=tree-schema>Tree schema</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries And Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countriesAndCities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-database&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/low-code/connector/create-microservice>Microservice</a> link.</p><h3 id=datasource-schema>Datasource schema</h3><p><strong>Note</strong>: The same structure below can be used used in both <strong>Query hooks</strong> and <strong>Query success hooks</strong>, although data will vary slightly.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2fe2d2c7-4feb-4c92-ac4c-fed4623d2d6e&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Demo Connector&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;client&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;typeIcon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;http://localhost:4171/public-file/322f14a6-63a0-4c68-b53e-4ca041c0e9ae/Geo-Connector-Icon.png&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;typeTitle&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Demo Connector&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;candelete&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;readOnly&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;status&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ready&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;useConnector&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;connectorId&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;clientConnectorId&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;19275478-68a9-43be-b8fb-54dc310cc0d6&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;settings&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;modified&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2022-11-11T15:12:44.173Z&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;enableB2B&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;enableFiltering&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;b2bMappings&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;modifiedBy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;5650d471-8c41-49b6-8f72-b77dddf3b956&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;admins&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;allowedUsers&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;exclusionUsers&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=query-hook-related-schemas>Query hook related schemas</h2><p>The <strong>Query hook</strong> in the <a href=/low-code/client-connector/how-to-create/#query-code>Query Code</a> tab typically looks like the following, using four parameters: <code>datasource, query</code>, <code>rule</code> and <code>process</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Sample schemas each are available by clicking on the relevant links: <a href=#datasource-schema><code>datasource</code></a>, <a href=#query-schema><code>query</code></a>, <a href=#rule-schema><code>rule</code></a>, and <a href=#-process-schema><code>process</code></a> are available by clicking on the links.</p><h3 id=query-schema>Query schema</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&#34;action&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;select&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&#34;info&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;item&#34;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&#34;rowLimit&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&#34;conditions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&#34;group&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;and&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&#34;conditions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;b3fe6a0b-c455-4560-abde-b5b7291d1ca8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>&#34;operator&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;eq&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>&#34;arg1&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>&#34;arg2&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;07b1e8ab-9260-478c-a3e2-487aa0ee56f8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-textbox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;date1&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;date2&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;London&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>&#34;group&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;and&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;b6597e4d-60f1-44da-863a-e15287f72f1a&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&#34;orderAscending&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=rule-schema>Rule schema</h3><p><strong>Note</strong>: This is similar to the <code>rule</code> used in the <strong>Query success hook</strong>.</p><p>The following sample rule schema is for a find-items rule which maps the response from the connector query to a table, notice the inputmapping and output mapping.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Find items 3&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;action&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;rules/rule-finditems&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;originalId&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;5e6d1abc-1c5f-471c-b1f2-4bc038d7aefd&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;enabled&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;schedule&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;default&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;settings&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;inputMapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;lefterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;has-error&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;righterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;has-error&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;outputMapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;left&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;country-name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;6070ad52-7e4e-4a96-aa6b-320266644d93&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-textbox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-text-height&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;right&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;datafield&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;lefterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;righterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;left&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;c2246c9a-af60-4fd0-9ac6-3195c456d3ff&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-textbox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-text-height&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;right&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;datafield&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;lefterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;righterror&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;errorMapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;rowLimit&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;list&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;item&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;mapToTable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yes&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;offlineCache&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;no&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;overrideTable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yes&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;serverPaging&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;no&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;table&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Table 1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;form1-f4&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;7746f138-a913-4438-ba65-4905d8453d57&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-table&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-table&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;visible&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;rows&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;row1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;form1-f4-row1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;219e1d44-a997-4f76-b815-f409fdcb4774&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/table-row&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;country-name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;6070ad52-7e4e-4a96-aa6b-320266644d93&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-textbox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-text-height&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;c2246c9a-af60-4fd0-9ac6-3195c456d3ff&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;field&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;fieldType&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fields/field-textbox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-text-height&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;visible&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;state&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;expanded&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;lastExecuted&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2022-12-14T17:29:42.425Z&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;elseSettings&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;hasElse&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=process-schema>Process schema</h3><p><strong>Note</strong>: This is similar to the <code>process</code> used in the <strong>Query success hook</strong>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;processVersion&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1.1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;processName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;connector-example&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;isCreated&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;isOfflineCreated&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;isOfflineUpdated&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;uniqueID&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;45758d2b-f713-44c9-81dc-0e4cb7618902&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;connector example&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Process&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;connector-example&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;modified&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2022-11-14T09:33:46.254Z&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;created&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2022-11-11T15:13:28.108Z&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;status&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;form 1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;securityMode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;enableSecurity&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;deleted&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;rejected&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;completed&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;settings&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;keepRuleExecutionOrder&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yes&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;buttonDisplayFlag&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;mobileNav&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yes&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;comments&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;offline-tag&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;45758d2b-f713-44c9-81dc-0e4cb7618902&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;partnerId&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;instanceIDFormat&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;customInstanceIDFormat&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;isPartner&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;isDraft&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;publish&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;allowNew&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;visMode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;group&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;fieldsUpdated&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;modifiedBy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;createdBy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;currentForm&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;5af0c34e-28ea-4404-bba3-a8cf2df8eaff&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;partner&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=query-success-hook-related-schemas>Query success hook related schemas</h2><p>The <strong>Query success hook</strong> in the <a href=/low-code/client-connector/how-to-create/#query-code>Query Code</a> tab typically looks like the following, using four parameters: <code>datasource, result</code>, <code>rule</code> and <code>process</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span> <span style=color:#000>querySuccess</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// this.get(&#34;dataservice&#34;).mapSuccess(result,rule,process); //uncomment to use default mapping behaviour</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Sample schemas each are available by clicking on the relevant links: <a href=#datasource-schema><code>datasource</code></a>, <a href=#result-schema><code>result</code></a>, <a href=#rule-schema><code>rule</code></a>, and <a href=#-process-schema><code>process</code></a> are available by clicking on the links.</p><h4 id=result-schema>Result schema</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;success&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>123</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>124</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=whats-next--idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h3><p>To discover how to use your customised data connector widget in Kianda process design, go to <a href=/platform/application-designer/>Kianda application designer</a>.</p><p>To create other widgets go to <a href=/low-code/field-widget/>Custom field widget</a>, <a href=/low-code/dashboard-widget/>Custom dashboard widget</a> and <a href=/low-code/rule-widget/>Custom rule widget</a> pages to find out more.</p><h3 id=to-return-to-the-previous-pages-click-on-the-links-below--idea-iconimages10png><strong>To return to the previous pages click on the links below</strong> <img src=/images/10.png alt="Idea icon"></h3><ul>
<li><a href=/low-code/connector/steps-to-create>How to create a client connector</a></li><li><a href=/low-code/connector/create-microservice/>Create a microservice</a></li></ul></div><div class=td-content style=page-break-before:always>
<h1 id=pg-308af95adad8f3cad358ee5c106870a4>10.3 - Steps to create a custom connector</h1><h1 id=introduction>Introduction</h1><p>This section will detail how to create a new <strong>Custom Connector</strong> which is a customised data connector for your organisation.</p><p><strong>Note:</strong> You must be have an <strong>Administrator</strong> or <strong>Developer</strong> role to create a custom connector.</p><h2 id=before-you-begin>Before you begin</h2><p>Please note before you begin that there are three key steps that need to be implemented in order to create and use a customised connector.</p><ol>
<li>
<p>Microservice - create a <strong>microservice</strong> that will implement metadata, query and test functions, click on the <a href=/low-code/client-connector/create-microservice/>Microservice</a> link to get further details.</p></li><li>
<p>Use Kianda features to create and test your customised connector - use <strong>Developer</strong> to <a href=#register-a-new-connector>register a new connector</a> and use <strong>Data sources</strong> to <a href=/platform/connectors/#creating-a-datasource>create a connector datasource</a> for the newly customised connector.</p></li><li>
<p>Process - use the custom connector to bring data into a process and use the query hook to filter the data.</p></li></ol><h2 id=register-a-new-connector>Register a new connector</h2><p>To create a new customised connector, follow the steps below:</p><ol>
<li>From the left-hand <strong>side menu</strong>, go to <strong>Administration</strong> > <strong>Developer</strong> then within the <strong>Connectors</strong> panel click on <strong>New Connector</strong>.</li></ol><p><img src=/images/new-connector.jpg alt="New Connector"></p><ol start=2>
<li>
<p>In the <strong>Create Connector</strong> dialog box, add a <strong>Title</strong> and browse for an <strong>Icon URL</strong> for your connector. The <strong>Connector Unique ID</strong> is automatically generated by the system.</p><p><img src=/images/create-connector.jpg alt="Create connector dialog box"></p></li><li>
<p>Make sure to <strong>copy the secret key</strong> to a safe location where you will find it as it will be needed later. You can do this by a) clicking on <strong>Download TXT</strong> which will result in the Secret Key being downloaded as a CSV file or b) clicking on <strong>Copy Key to Clipboard</strong>, then click on <strong>OK</strong> when done.</p></li><li>
<p>Ensure that this secret key is added to your Microservice code, see <a href=/low-code/connector/sample-code/#encryption-and-decryption-sample-code>Encryption and Decryption sample code</a>, where you need to replace the string in the <code>GetSecretKey</code> function as shown below:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span> <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;{secret key generated from Kianda}&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//REPLACE ME</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></li><li>
<p>After populating the initial dialog box, the next screen will show you the title of the connector and contains four tabs: <a href=#connector-settings-tab>Connector Settings</a>, <a href=#settings-ui-tab>Settings UI</a>, <a href=#settings-code-tab>Settings Code</a> and <a href=#query-code-tab>Query Code</a>.</p><p><img src=/images/connector-settings-demo.jpg alt="Tabs to create a customised connector"></p><p>The details of these tabs are found in the following sections.</p></li></ol><h3 id=connector-settings-tab>Connector Settings tab</h3><p>This is where the Connector <strong>Title</strong> and <strong>Icon</strong> can be changed. These details will be seen in the <a href=/platform/connectors/>Data connectors</a> function, once the customised connector is created.</p><p><img src=/images/connector-settings-tab.jpg alt="Connector Settings tab"></p><p>The URLs for metadata, test and query can be edited here too. The Metadata, Test and Query URL&rsquo;s can be populated when the microservice is created, see <a href=/low-code/connector/create-microservice/>Create a Microservice</a> link for more details.</p><p>For example when your Microservice is running you should receive an output similar to the following shown using Azure functions and use these URLs in the <strong>Connector Settings tab</strong>.</p><p><img src=/images/azure-function-urls.jpg alt="Azure function URLs"></p><p>To save details click on <strong>Update</strong>, then click on <strong>Close</strong> to return to the <strong>Developer resources</strong> page.</p><h3 id=settings-ui-tab>Settings UI tab</h3><p>The <strong>Settings UI</strong> sets the user interface for a customised data connector within the <strong>Data sources</strong> function, found within <strong>Administration</strong> in the left-hand pane. By default there is sample code in this tab. This code will be rendered when the datasource for this connector is activated.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-HTML data-lang=HTML><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-group&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;control-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Client ID<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   {{input type=&#34;text&#34; value=datasource.settings.clientID class=&#34;form-control&#34;}}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-group&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;control-label&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Readwrite <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   {{radio-button default=true name=&#39;readwrite&#39; label=&#39;No&#39; value=&#39;no&#39; group=datasource.settings.readwrite}}
</span></span><span style=display:flex><span>   {{radio-button name=&#39;readwrite&#39; label=&#39;Yes&#39; value=&#39;yes&#39; group=datasource.settings.readwrite}}
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-group&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-primary&#34;</span> <span style=color:#a40000>{{</span><span style=color:#c4a000>action</span> <span style=color:#a40000>&#39;</span><span style=color:#c4a000>authorize</span><span style=color:#a40000>&#39;}}</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   {{#if datasource.settings.authorized}}
</span></span><span style=display:flex><span>   Re-Authorize
</span></span><span style=display:flex><span>   {{else}}
</span></span><span style=display:flex><span>   Authorize
</span></span><span style=display:flex><span>   {{/if}}
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>This code creates the content on the screen seen below, available in the <strong>Data sources</strong> function on the <strong>Datasource details</strong> page. Within the class <strong>form-group</strong> listed in the code above there is an <strong>Environment</strong> setting with labels &lsquo;Demo&rsquo; and &lsquo;Live&rsquo; which can be seen in the screen below. Also note an <strong>Authorize</strong> button added in the code above which has an action <strong>&lsquo;authorize&rsquo;</strong> which is handled by the code in the <a href=#settings-code-tab>Settings Code tab</a>.</p><p><img src=/images/settings-ui-datasources.jpg alt="Datasources details created from Settings UI tab"></p><p>Other details on the screen above, like the name of the page <strong>Datasource details</strong>, <strong>Use Kianda Cloud Connect</strong> and buttons <strong>Test connection</strong>, <strong>Save</strong>, <strong>Security</strong> and <strong>Close</strong> are automatically part of the UI for customised data connectors. However, custom handlebars can be added for the <strong>settings</strong> of the connector datasource using code in the <strong>Settings UI</strong> tab, namely fields like <strong>Datasource Name</strong> and <strong>Client Key</strong> as shown in the image above. This principle works the same as <strong>Widget UI</strong>, which is seen when creating custom <a href=/low-code/rule-widget/>rule widgets</a> or <a href=/low-code/field-widget/>field widgets</a> for example.</p><h3 id=settings-code>Settings Code</h3><p>In a similar manner to creating custom <a href=/low-code/rule-widget/>rule widgets</a> or <a href=/low-code/field-widget/>field widgets</a> where there are <strong>Widget code</strong> tabs, the connector widget has a tab called <strong>Settings Code</strong> which is used to create the JavaScript code for the settings UI.</p><p>By default there is code in this tab, for example the <strong>Authorize</strong> button shown in the <strong>Datasource details</strong> page above has an &lsquo;authorize&rsquo; function which is the first segment of code below.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#000>actions</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>authorize</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>clientId</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;datasource.settings.clientID&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>redirectUri</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;https://app.kianda.com/index.html&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>scope</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;openid User.Read.All Directory.Read.All &#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>readWrite</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;datasource.settings.readwrite&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>readWrite</span> <span style=color:#ce5c00;font-weight:700>===</span> <span style=color:#4e9a06>&#39;yes&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>scope</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#39;Directory.ReadWrite.All Group.ReadWrite.All User.ReadWrite.All Directory.AccessAsUser.All&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;scope&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>scope</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>guid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>uuidv4</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>consentUrl</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;https://login.microsoftonline.com/common/oauth2/v2.0/authorize?&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;client_id=&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>clientId</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;response_type=code&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;redirect_uri=&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>redirectUri</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;response_mode=query&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;scope=&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>scope</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;state=&#39;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>guid</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;&amp;prompt=login&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>authWindow</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>consentUrl</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;_blank&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;height=750,width=700,scrollbars=yes,location=yes&#39;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>try</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>authWindow</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>focus</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>e</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>notify</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Error during authentication, please try again&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>               <span style=color:#000>status</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;warning&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>that</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>handleCallback</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>evt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>isDestroyed</span> <span style=color:#ce5c00;font-weight:700>!==</span> <span style=color:#204a87;font-weight:700>true</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>evt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>origin</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;kianda.com&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>evt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>accessCode</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>evt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>scope</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;datasource.settings.scope&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>openid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;datasource.settings.openid&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;datasource.settings.accessCode&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>accessCode</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;datasource.settings.accessToken&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;datasource.settings.refreshToken&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;datasource.settings.authorized&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;datasource.settings.scope&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>scope</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>save</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>then</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                  <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>sendAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;test&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>that</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>removeEventListener</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;message&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>handleCallback</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addEventListener</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;message&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>handleCallback</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Other aspects to note in this sample code are the datasource settings, for example <code>datasource.settings.accessToken</code> and <code>datasource.settings.environment</code> denoting that you can add whatever <strong>settings</strong> you want to the UI within the <strong>Datasources details</strong> page using this type of code. These settings could be then used in a <a href=/low-code/connector/create-microservice/>Microservice</a> to create an action based on a chosen setting.</p><h3 id=query-code>Query Code</h3><p>When using a data source, all data sources will have built-in <strong>metadata</strong>, <strong>query</strong> and <strong>querySuccess</strong> functions to allow content searches, including metadata content or information about the content, such as title, author and creation date. The <strong>Query code</strong> tab contains the code needed for these three functions. Default code is provided to help you get started, see below.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>metaData</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tree</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>datasource</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>tree</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>query</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#000>querySuccess</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>     <span style=color:#8f5902;font-style:italic>//this.get(&#34;dataservice&#34;).mapSuccess(result,rule,process); //uncomment to use default mapping behaviour
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>The default code contains three <strong>hooks</strong> that allow you to tap in to a module to trigger certain behaviours or actions. These hooks are:</p><ul>
<li><a href=#metadata-hook>metaData hook</a></li><li><a href=#query-hook>Query hook</a></li><li><a href=#querysuccess-hook>querySuccess hook</a></li></ul><p>Click on each of the links above to see further details.</p><p>In Ember, <strong>bubbling</strong> will search for each of the actions in the code above, and if not found, then a default action is used, but if found the default is overwritten. This principle is useful when something is created multiple times which is the case when creating custom data connectors.</p><h4 id=metadata-hook>Metadata hook</h4><p>The <strong>Metadata hook</strong> is where the return of the tree or metadata call can be altered for a chosen datasource used in Kianda form design.</p><p>The <strong><code>tree</code>parameter</strong> as part of this hook is seen in the sample code snippet below.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>  <span style=color:#000>metaData</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tree</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>datasource</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>tree</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>An example of the tree structure is shown below.</p><p>The tree follows the structure that there is a root node, in this example Countries and Cities is the root. The tree can be customised by adding an icon and making nodes selectable.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries And Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countriesAndCities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;fa fa-database&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;fields&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;icon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;fields&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;text&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;desc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>This structure will result in the output as shown in the image below,</p><p><img src=/images/tree-function-output.png alt="Connector tree"></p><h4 id=query-hook>Query Hook</h4><p>The <strong>Query hook</strong> allows a query to the datasource to be customised. Parameters are passed into this function to allow customisation to happen. These parameters are: <code>datasource</code>, <code>query</code>, <code>rule</code> and <code>process</code>; sample schemas are available for each at the <a href=/low-code/connector/sample-schemas/>Sample schema</a> link.</p><p>In the sample code below, the filter is obtained by drilling into the query conditions object.
This is just one example of how the query can be customized before being processed, which is an advantage of using custom connectors. Take a look at the <a href=/low-code/connector/sample-schemas/#query-success-hook-related-schemas>query schema</a> for more information</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>conditions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>filter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>conditions</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>].</span><span style=color:#000>conditions</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>].</span><span style=color:#000>arg2</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>This ties in with the <a href=#querysuccess-hook>query success hook</a> which handles the result which is returned from the datasource, which can also be customized.</p><h4 id=querysuccess-hook>QuerySuccess hook</h4><p>The idea of the query success hook is to be able to customize the response of a datasource query for example drill into a complicated json response based on a condition.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#000>querySuccess</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datasource</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>rule</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>process</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// this.get(&#34;dataservice&#34;).mapSuccess(result,rule,process); //uncomment to use default mapping behaviour</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Once the connector is created, the connector is available from the <strong>Data sources</strong> function under <strong>Administration</strong>, see <a href=/platform/connectors/#creating-a-datasource>Creating a datasource</a> for details.</p></div><div class=td-content style=page-break-before:always>
<h1 id=pg-868eedc20e9a044355b72e0d679cd397>10.4 - Sample code for a microservice</h1><h2 id=sample-code>Sample code</h2><p>The following sections provide some sample code to help you get started in creating <strong>Test</strong>, <strong>Metadata</strong> and <strong>Query</strong> functions for your Microservice so that you can test and deploy a Custom Connector in Kianda, allowing you to connect forms and use data from any data source.</p><h3 id=encryption-and-decryption-sample-code>Encryption and Decryption sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C# data-lang=C#><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hash</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>)))</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hashedByte</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>hash</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ComputeHash</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Encoding</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UTF8</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetBytes</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>hashed</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hashedByte</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>hashed</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>plainData</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#0000cf;font-weight:700>_</span><span style=color:#000>key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GenerateIV</span><span style=color:#000;font-weight:700>();</span> 
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Mode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CipherMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CBC</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IV</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>_</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptor</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateEncryptor</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>MemoryStream</span> <span style=color:#000>ms</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MemoryStream</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>CryptoStream</span> <span style=color:#000>cs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CryptoStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>CryptoStreamMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Write</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>StreamWriter</span> <span style=color:#000>sw</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cs</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                                <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Write</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>plainData</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToArray</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>encryptedData</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>buffer</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>encryptedData</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#0000cf;font-weight:700>_</span><span style=color:#000>key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Mode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CipherMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CBC</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>_</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IV</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>decryptor</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CreateDecryptor</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>MemoryStream</span> <span style=color:#000>ms</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MemoryStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>buffer</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>CryptoStream</span> <span style=color:#000>cs</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CryptoStream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ms</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>decryptor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>CryptoStreamMode</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Read</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>StreamReader</span> <span style=color:#000>sw</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cs</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ReadToEnd</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>GenerateAESKey</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Aes</span> <span style=color:#000>aes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Create</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>KeySize</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>256</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GenerateKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Convert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToBase64String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>aes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;{secret key generated from Kianda}&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//REPLACE ME</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/low-code/connector/create-microservice>Microservice</a> link.</p><h3 id=test-sample-code>Test sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#c4a000>        [FunctionName(&#34;connectorTest&#34;)]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorTest</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>            [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>FromForm</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span> 
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>response</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>testBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>testBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>accessCode</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settings</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;accessCode&#34;</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>clientID</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settings</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;client_key&#34;</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>JObject</span> <span style=color:#000>tokenRequestObj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;grant_type&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;authorization_code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;client_id&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>clientID</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;redirect_uri&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;https://app.kianda.com/index.html&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                    [&#34;code&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>accessCode</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptedSettings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptedSettings</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>response</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Test completed successfully&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LogError</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>response</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/low-code/connector/create-microservice>Microservice</a> link.</p><h3 id=metadata-sample-code>Metadata sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#c4a000>         [FunctionName(&#34;connectorMetadata&#34;)]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorTree</span><span style=color:#000;font-weight:700>(</span><span style=color:#8f5902;font-style:italic>//metadata</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>            [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>requestBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>requestBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Do Request for token and update settings object </span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>JObject</span> <span style=color:#000>tokenRequestObj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;grant_type&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;authorization_code&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//[&#34;client_id&#34;] = clientID,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;redirect_uri&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;https://app.kianda.com/index.html&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//[&#34;code&#34;] = accessCode</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//settings = GetToken(tokenRequestObj, settings);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the Queryresult </span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>QueryResult</span> <span style=color:#000>resultQuery</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the return Tree </span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CityFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;City Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CityFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CountryFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Country Name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CountryFields</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;title&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ISO Country Code&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;desc&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&#34;</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>nodes</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>nodes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-globe&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;STRUCTURE&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;fields&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CountryFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#000>nodes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cities&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;icon&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-globe&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;STRUCTURE&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;nodes&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;fields&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>CityFields</span> <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;selectable&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span> <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//create the tree root to be returned</span>
</span></span><span style=display:flex><span>            <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>root</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>            <span style=color:#000>root</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;text&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Countries and Cities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;name&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;CountriesAndCities&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;icon&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;fa fa-database&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;selectable&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                [&#34;nodes&#34;]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JArray</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>nodes</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>root</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Metadata Action Completed&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>encryptedSettings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>encryptedSettings</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>resultExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>QueryResult</span> <span style=color:#000>resultQueryExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Exception occured; &#34;</span> <span style=color:#000;font-weight:700>+</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/low-code/connector/create-microservice>Microservice</a> link.</p><h3 id=query-sample-code>Query sample code</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C# data-lang=C#><span style=display:flex><span><span style=color:#c4a000>    [FunctionName(&#34;connectorQuery&#34;)]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>connectorQuery</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>        [HttpTrigger(AuthorizationLevel.Function, &#34;post&#34;, Route = null)]</span> <span style=color:#000>HttpRequest</span> <span style=color:#000>req</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ILogger</span> <span style=color:#000>log</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>SECRET_KEY</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>GetSecretKey</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>result</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>QueryResult</span> <span style=color:#000>resultQuery</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>resultQuery</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>myresponsestring</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Empty</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>testBody</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>await</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>req</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Body</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ReadToEndAsync</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorRequest</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>CustomConnectorRequest</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>testBody</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Query</span> <span style=color:#000>query</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settings</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeserializeObject</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#000>AESDecrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//demo object list creation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>info</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Value</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;(</span><span style=color:#4e9a06>&#34;text&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#4e9a06>&#34;Countries&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CountriesList</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>country1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>123</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>country2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ISOCode&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>124</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>country1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>country2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CountriesList</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>else</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>CitysList</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>List</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>JObject</span><span style=color:#000;font-weight:700>&gt;();</span> <span style=color:#8f5902;font-style:italic>//create a list of jobjects </span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city1</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;London&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;England&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Liverpool&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city3</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Dublin&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>city4</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JObject</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Ireland&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;cityName&#34;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Cork&#34;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city3</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>city4</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//check for conditions then return accordingly</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span> <span style=color:#000;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> <span style=color:#000;font-weight:700>!</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IsNullOrEmpty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>filter</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#8f5902;font-style:italic>//filtering the city list depending on the filter </span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>j</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Where</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>x</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;countryName&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>Value</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;()</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#000>query</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>filter</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ToList</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>j</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>else</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#8f5902;font-style:italic>// if no filter return the full list of citys</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>items</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>CitysList</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>settingsobj</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>AESEncrypt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>JsonConvert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SerializeObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>),</span> <span style=color:#204a87;font-weight:700>out</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//encrypt the settings</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>iv</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>iv</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>encryptedSettingsPropertyBag</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>settingsobj</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>HashWithHMACSHA256</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>SECRET_KEY</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000>result</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>CustomConnectorResponse</span> <span style=color:#000>resultExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomConnectorResponse</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>QueryResult</span> <span style=color:#000>resultQueryExc</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>QueryResult</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>queryResult</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Exception occured; &#34;</span> <span style=color:#000;font-weight:700>+</span> <span style=color:#000>ex</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>signature</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>signature</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>resultExc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>To return to Microservice development, click on the <a href=/low-code/connector/create-microservice>Microservice</a> link.</p><h2 id=whats-next-idea-iconimages18png>What&rsquo;s next <img src=/images/18.png alt="Idea icon"></h2><p>To learn how to create a custom connector view the <a href=/low-code/connector/steps-to-create/>steps to create a custom connector</a>.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
</div><div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2025 Kianda Technologies All Rights Reserved</small>
<small class=ml-1><a href=https://www.kianda.com/privacy target=_blank rel=noopener>Privacy Policy</a></small>
</div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.e969fcc6c6f4a5f274732e5cfc9517216922476c3623b07b387618dcb82a2ada.js integrity="sha256-6Wn8xsb0pfJ0cy5c/JUXIWkiR2w2I7B7OHYY3LgqKto=" crossorigin=anonymous></script>
<script type=text/javascript language=javascript>$(document).ready(function(){var e=$("#td-sidebar-menu a.active");e&&e.length>0&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})})</script>
</body></html>